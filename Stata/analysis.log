-------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\kajam\OneDrive\Documents\GitHub\vaccine_equity_kenya\Stata\analysis.log
  log type:  text
 opened on:  15 Feb 2021, 15:00:53

. 
. // set working directory where DHS dataset is located
. cd "C:\Users\kajam\OneDrive\Documents\GitHub\vaccine_equity_kenya\Stata"
C:\Users\kajam\OneDrive\Documents\GitHub\vaccine_equity_kenya\Stata

. 
. // 2014 Kenya DHS dataset
. // download from DHS upon registration
. // https://www.dhsprogram.com/data/dataset/Kenya_Standard-DHS_2014.cfm
. use KEKR72FL.dta, clear

. 
. // Sampling weights
. // https://blog.dhsprogram.com/sampling-weighting-at-dhs/
. // https://dhsprogram.com/Data/Guide-to-DHS-Statistics/Analyzing_DHS_Data.htm
. 
. // 2-stage cluster sampling procedure
. // survey weighting
. // v005 - women's individual sample weight
. // v021 - primary sampling unit
. // v023 - stratification used in sample design
. generate wgt = v005 / 1000000

. svyset [pw = wgt], psu (v021) strata (v023)

      pweight: wgt
          VCE: linearized
  Single unit: missing
     Strata 1: v023
         SU 1: v021
        FPC 1: <zero>

. 
. // Install Stata programs for data analysis
. // collin -- Collinearity diagnostics
. // https://stats.idre.ucla.edu/stata/ado/analysis/
. * findit collin
. * net describe collin, from (https://stats.idre.ucla.edu/stat/stata/ado/analysis)
. * net install collin
. net install collin, from (https://stats.idre.ucla.edu/stat/stata/ado/analysis) replace
checking collin consistency and verifying not already installed...
all files already exist and are up to date.

. 
. // -----------------------------------------------------------------------------
. // Restrict data to living children aged 12-23 months and drop all other observations
. tab b5

   child is |
      alive |      Freq.     Percent        Cum.
------------+-----------------------------------
         no |        871        4.15        4.15
        yes |     20,093       95.85      100.00
------------+-----------------------------------
      Total |     20,964      100.00

. gen childalive = 0

. replace childalive = 1 if inlist(b5, 1)  // child is alive (yes is coded as "1")
(20,093 real changes made)

. keep if childalive == 1
(871 observations deleted)

. *Reduces n from 20,964 to 20,093 (deleted 871)
. 
. gen child=0

. replace child = 1 if inlist(hw1, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23)  // 12-23 months
(3,965 real changes made)

. keep if child==1
(16,128 observations deleted)

. *Reduces n from 20,093 to 3,965 (deleted 16,128)
. // -----------------------------------------------------------------------------
. 
. // -----------------------------------------------------------------------------
. //  proportions of male and female children
. svy: tab b4
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,965
Number of PSUs     =     1,391                  Population size   = 3,677.5106
                                                Design df         =      1,299

----------------------
sex of    |
child     | proportion
----------+-----------
     male |      .5205
   female |      .4795
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. // -----------------------------------------------------------------------------
. 
. // -----------------------------------------------------------------------------
. // Generate new variables
. 
. // Generate new variable for maternal age (in months)
. gen matage = v008 - v011

. 
. // Generate new variable for maternal age at birth
. gen matagebirth = b3 - v011

. 
. // Generate new variables for each vaccine to categorize as vaccinated, not vaccinated, unknown
. * BCG
. gen bcg=h2
(1 missing value generated)

. recode bcg 0=0 1/3=1 8=8
(bcg: 880 changes made)

. label var bcg "BCG"

. label define labbcg 0 "No" 1 "Yes" 8 "Unknown"

. label value bcg labbcg

. tab bcg h2 // to verify coding works

           |                      received bcg
       BCG |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       166          0          0          0          0 |       166 
       Yes |         0      2,917        854         26          0 |     3,797 
   Unknown |         0          0          0          0          1 |         1 
-----------+-------------------------------------------------------+----------
     Total |       166      2,917        854         26          1 |     3,964 

. 
. * DPT1
. gen dpt1=h3
(1 missing value generated)

. recode dpt1 0=0 1/3=1 8=8
(dpt1: 859 changes made)

. label var dpt1 "DPT1"

. label define labdpt1 0 "No" 1 "Yes" 8 "Unknown"

. label value dpt1 labdpt1

. tab dpt1 h3 // to verify coding works

           |                     received dpt 1
      DPT1 |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       132          0          0          0          0 |       132 
       Yes |         0      2,968        838         21          0 |     3,827 
   Unknown |         0          0          0          0          5 |         5 
-----------+-------------------------------------------------------+----------
     Total |       132      2,968        838         21          5 |     3,964 

. 
. * DPT2
. gen dpt2=h5
(1 missing value generated)

. recode dpt2 0=0 1/3=1 8=8
(dpt2: 830 changes made)

. label var dpt2 "DPT2"

. label define labdpt2 0 "No" 1 "Yes" 8 "Unknown"

. label value dpt2 labdpt2

. tab dpt2 h5 // to verify coding works

           |                     received dpt 2
      DPT2 |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       190          0          0          0          0 |       190 
       Yes |         0      2,939        814         16          0 |     3,769 
   Unknown |         0          0          0          0          5 |         5 
-----------+-------------------------------------------------------+----------
     Total |       190      2,939        814         16          5 |     3,964 

. 
. * DPT3
. gen dpt3=h7
(1 missing value generated)

. recode dpt3 0=0 1/3=1 8=8
(dpt3: 707 changes made)

. label var dpt3 "DPT3"

. label define labdpt3 0 "No" 1 "Yes" 8 "Unknown"

. label value dpt3 labdpt3

. tab dpt3 h7 // to verify coding works

           |                     received dpt 3
      DPT3 |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       418          0          0          0          0 |       418 
       Yes |         0      2,834        691         16          0 |     3,541 
   Unknown |         0          0          0          0          5 |         5 
-----------+-------------------------------------------------------+----------
     Total |       418      2,834        691         16          5 |     3,964 

. 
. * Polio 0
. gen polio0=h0

. recode polio0 0=0 1/3=1 8=8
(polio0: 817 changes made)

. label var polio0 "Polio 0"

. label define labpolio0 0 "No" 1 "Yes" 8 "Unknown"

. label value polio0 labpolio0

. tab polio0 h0 // to verify coding works

           |              received polio 0
   Polio 0 |        no  vaccinati  reported   vaccinati |     Total
-----------+--------------------------------------------+----------
        No |     1,076          0          0          0 |     1,076 
       Yes |         0      2,072        772         45 |     2,889 
-----------+--------------------------------------------+----------
     Total |     1,076      2,072        772         45 |     3,965 

. 
. * Polio 1
. gen polio1=h4
(3 missing values generated)

. recode polio1 0=0 1/3=1 8=8
(polio1: 870 changes made)

. label var polio1 "Polio 1"

. label define labpolio1 0 "No" 1 "Yes" 8 "Unknown"

. label value polio1 labpolio1

. tab polio1 h4 // to verify coding works

           |              received polio 1
   Polio 1 |        no  vaccinati  reported   vaccinati |     Total
-----------+--------------------------------------------+----------
        No |       132          0          0          0 |       132 
       Yes |         0      2,960        846         24 |     3,830 
-----------+--------------------------------------------+----------
     Total |       132      2,960        846         24 |     3,962 

. 
. * Polio 2
. gen polio2=h6
(4 missing values generated)

. recode polio2 0=0 1/3=1 8=8
(polio2: 781 changes made)

. label var polio2 "Polio 2"

. label define labpolio2 0 "No" 1 "Yes" 8 "Unknown"

. label value polio2 labpolio2

. tab polio2 h6 // to verify coding works

           |              received polio 2
   Polio 2 |        no  vaccinati  reported   vaccinati |     Total
-----------+--------------------------------------------+----------
        No |       251          0          0          0 |       251 
       Yes |         0      2,929        765         16 |     3,710 
-----------+--------------------------------------------+----------
     Total |       251      2,929        765         16 |     3,961 

. 
. * Polio 3
. gen polio3=h8
(4 missing values generated)

. recode polio3 0=0 1/3=1 8=8
(polio3: 478 changes made)

. label var polio3 "Polio 3"

. label define labpolio3 0 "No" 1 "Yes" 8 "Unknown"

. label value polio3 labpolio3

. tab polio3 h8 // to verify coding works

           |              received polio 3
   Polio 3 |        no  vaccinati  reported   vaccinati |     Total
-----------+--------------------------------------------+----------
        No |       708          0          0          0 |       708 
       Yes |         0      2,775        459         19 |     3,253 
-----------+--------------------------------------------+----------
     Total |       708      2,775        459         19 |     3,961 

. 
. * Measles
. gen measles=h9
(5 missing values generated)

. recode measles 0=0 1/3=1 8=8
(measles: 883 changes made)

. label var measles "Measles"

. label define labmeasles 0 "No" 1 "Yes" 8 "Unknown"

. label value measles labmeasles

. tab measles h9 // to verify coding works

           |                    received measles
   Measles |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       604          0          0          0          0 |       604 
       Yes |         0      2,469        841         42          0 |     3,352 
   Unknown |         0          0          0          0          4 |         4 
-----------+-------------------------------------------------------+----------
     Total |       604      2,469        841         42          4 |     3,960 

. 
. * PCV1
. gen pcv1=spn1

. recode pcv1 0=0 1/3=1 8=8
(pcv1: 857 changes made)

. label var pcv1 "PCV1"

. label define labpcv1 0 "No" 1 "Yes" 8 "Unknown"

. label value pcv1 labpcv1

. tab pcv1 spn1 // to verify coding works

           |                received pneumococcal 1
      PCV1 |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       283          0          0          0          0 |       283 
       Yes |         0      2,816        827         30          0 |     3,673 
   Unknown |         0          0          0          0          9 |         9 
-----------+-------------------------------------------------------+----------
     Total |       283      2,816        827         30          9 |     3,965 

. 
. * PCV2
. gen pcv2=spn2

. recode pcv2 0=0 1/3=1 8=8
(pcv2: 805 changes made)

. label var pcv2 "PCV2"

. label define labpcv2 0 "No" 1 "Yes" 8 "Unknown"

. label value pcv2 labpcv2

. tab pcv2 spn2 // to verify coding works

           |                received pneumococcal 2
      PCV2 |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       365          0          0          0          0 |       365 
       Yes |         0      2,786        783         22          0 |     3,591 
   Unknown |         0          0          0          0          9 |         9 
-----------+-------------------------------------------------------+----------
     Total |       365      2,786        783         22          9 |     3,965 

. 
. * PCV3
. gen pcv3=spn3

. recode pcv3 0=0 1/3=1 8=8
(pcv3: 688 changes made)

. label var pcv3 "PCV3"

. label define labpcv3 0 "No" 1 "Yes" 8 "Unknown"

. label value pcv3 labpcv3

. tab pcv3 spn3 // to verify coding works

           |                received pneumococcal 3
      PCV3 |        no  vaccinati  reported   vaccinati  don't kno |     Total
-----------+-------------------------------------------------------+----------
        No |       598          0          0          0          0 |       598 
       Yes |         0      2,670        663         25          0 |     3,358 
   Unknown |         0          0          0          0          9 |         9 
-----------+-------------------------------------------------------+----------
     Total |       598      2,670        663         25          9 |     3,965 

. // -----------------------------------------------------------------------------
. 
. // -----------------------------------------------------------------------------
. // Drop unknown and missing values
. keep if bcg     == 0 | bcg     == 1
(2 observations deleted)

. keep if dpt1    == 0 | dpt1    == 1
(6 observations deleted)

. keep if dpt2    == 0 | dpt2    == 1
(0 observations deleted)

. keep if dpt3    == 0 | dpt3    == 1
(0 observations deleted)

. keep if polio1  == 0 | polio1  == 1
(3 observations deleted)

. keep if polio2  == 0 | polio2  == 1
(1 observation deleted)

. keep if polio3  == 0 | polio3  == 1
(0 observations deleted)

. keep if measles == 0 | measles == 1
(5 observations deleted)

. keep if pcv1    == 0 | pcv1    == 1
(5 observations deleted)

. keep if pcv2    == 0 | pcv2    == 1
(0 observations deleted)

. keep if pcv3    == 0 | pcv3    == 1
(0 observations deleted)

. // -----------------------------------------------------------------------------
. 
. // -----------------------------------------------------------------------------
. // Generate new variable for full vaccination vs. not full vaccination 
. // (excluding polio dose given at birth)
. gen fullvac=0

. replace fullvac = 1 if inlist(bcg, 1) & inlist(dpt1, 1) & inlist(dpt2, 1) & inlist(dpt3, 1) & inlist(polio1, 1) & inlist(polio2, 1) & inlist(polio3, 1) & inlist(
> measles, 1) & inlist(pcv1, 1) & inlist(pcv2, 1) & inlist(pcv3, 1)
(2,643 real changes made)

. tab fullvac

    fullvac |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,300       32.97       32.97
          1 |      2,643       67.03      100.00
------------+-----------------------------------
      Total |      3,943      100.00

. 
. // Generate new variables for basic vaccination
. gen basicvac=0

. replace basicvac = 1 if inlist(bcg, 1) & inlist(dpt1, 1) & inlist(dpt2, 1) & inlist(dpt3, 1) & inlist(polio1, 1) & inlist(polio2, 1) & inlist(polio3, 1) & inlist
> (measles, 1)
(2,773 real changes made)

. tab basicvac

   basicvac |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,170       29.67       29.67
          1 |      2,773       70.33      100.00
------------+-----------------------------------
      Total |      3,943      100.00

. 
. // Generate new variable for all three DPT vaccinations
. gen dptfull=0

. replace dptfull = 1 if inlist(dpt1, 1) & inlist(dpt2, 1) & inlist(dpt3, 1)
(3,515 real changes made)

. 
. // Generate new variable for all three polio vaccinations (excluding polio dose given at birth)
. gen poliofull=0

. replace poliofull = 1 if inlist(polio1, 1) & inlist(polio2, 1) & inlist(polio3, 1)
(3,225 real changes made)

. 
. // Generate new variable for all three PCV vaccinations
. gen pcvfull=0

. replace pcvfull = 1 if inlist(pcv1, 1) & inlist(pcv2, 1) & inlist(pcv3, 1)
(3,327 real changes made)

. // -----------------------------------------------------------------------------
. 
. // -----------------------------------------------------------------------------
. // Recode and relabel variables of interest 
. 
. // Recode birth order into four groups 
. gen birthord=bord

. recode birthord 1=1 2/3=2 4/5=3 6/14=4
(birthord: 2250 changes made)

. label var birthord "Birth order - Few"

. label define labbirthord 1 "1" 2 "2-3" 3 "4-5" 4 "6+"

. label value birthord labbirthord

. tab birthord bord

     Birth |
   order - |                                                         birth order number
       Few |         1          2          3          4          5          6          7          8          9         10         11         12 |     Total
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
         1 |       882          0          0          0          0          0          0          0          0          0          0          0 |       882 
       2-3 |         0        811        691          0          0          0          0          0          0          0          0          0 |     1,502 
       4-5 |         0          0          0        501        354          0          0          0          0          0          0          0 |       855 
        6+ |         0          0          0          0          0        261        197        102         67         37         22         11 |       704 
-----------+------------------------------------------------------------------------------------------------------------------------------------+----------
     Total |       882        811        691        501        354        261        197        102         67         37         22         11 |     3,943 


     Birth |
   order - |  birth order number
       Few |        13         14 |     Total
-----------+----------------------+----------
         1 |         0          0 |       882 
       2-3 |         0          0 |     1,502 
       4-5 |         0          0 |       855 
        6+ |         6          1 |       704 
-----------+----------------------+----------
     Total |         6          1 |     3,943 

. 
. // Recode maternal age at birth into three groups
. gen matagebirth3=matagebirth

. recode matagebirth3 min/239=1 240/359=2 360/max=3
(matagebirth3: 3943 changes made)

. label var matagebirth3 "Maternal age at birth"

. label define labmatagebirth3 1 "10-19" 2 "20-29" 3 "30+"

. label value matagebirth3 labmatagebirth3

. // tab matagebirth3 matagebirth     // too many values
. 
. // Recode household head into a binary variable
. gen motherhhd=v150

. recode motherhhd 1=1 2/12=2
(motherhhd: 595 changes made)

. label var motherhhd "Head of household - Mother"

. label define labmotherhhd 1 "Mother" 2 "Other"

. label value motherhhd labmotherhhd

. tab motherhhd v150

   Head of |
 household |                                   relationship to household head
  - Mother |      head       wife   daughter  daughter-  granddaug     sister  other rel  adopted/f  not relat |     Total
-----------+---------------------------------------------------------------------------------------------------+----------
    Mother |       821          0          0          0          0          0          0          0          0 |       821 
     Other |         0      2,527        347        122         36         24         49          2         15 |     3,122 
-----------+---------------------------------------------------------------------------------------------------+----------
     Total |       821      2,527        347        122         36         24         49          2         15 |     3,943 

. 
. // Recode place of delivery into home (own home or other's homes), clinical setting (public or private), and other 
. gen delivery=m15
(7 missing values generated)

. recode delivery 11/12=1 21/36=2 96=3
(delivery: 3936 changes made)

. label var delivery "Delivery setting"

. label define labdelivery 1 "Home" 2 "Clinical setting" 3 "Other"

. label value delivery labdelivery

. tab delivery m15

                 |                                                    place of delivery
Delivery setting | responden  other hom  governmen  govt heal  govt disp  other pub  mission h  private h  nursing/m  other pri      other |     Total
-----------------+-------------------------------------------------------------------------------------------------------------------------+----------
            Home |     1,556        170          0          0          0          0          0          0          0          0          0 |     1,726 
Clinical setting |         0          0      1,054        366        264          2        303        165         29          1          0 |     2,184 
           Other |         0          0          0          0          0          0          0          0          0          0         26 |        26 
-----------------+-------------------------------------------------------------------------------------------------------------------------+----------
           Total |     1,556        170      1,054        366        264          2        303        165         29          1         26 |     3,936 

. 
. // Recode religion to group Christian faiths
. gen religion=v130
(7 missing values generated)

. recode religion 3=1 4=2 1/2=3 96=4
(religion: 3936 changes made)

. label var religion "Religion"

. label define labreligion 1 "Muslim" 2 "No religion" 3 "Christian" 4 "Other"

. label value religion labreligion

. tab religion v130

            |                        religion
   Religion | roman cat  protestan     muslim  no religi      other |     Total
------------+-------------------------------------------------------+----------
     Muslim |         0          0        665          0          0 |       665 
No religion |         0          0          0        110          0 |       110 
  Christian |       734      2,417          0          0          0 |     3,151 
      Other |         0          0          0          0         10 |        10 
------------+-------------------------------------------------------+----------
      Total |       734      2,417        665        110         10 |     3,936 

. 
. // Recode ethnicity into fewer groups
. gen ethnic2=v131
(1 missing value generated)

. recode ethnic2 11=1 8=2 21=3 7=4 2=5 6=6 3=7 4=8 1=9 5=9 9/10=9 12/20=9 22=9 96=9
(ethnic2: 3360 changes made)

. label var ethnic2 "Ethicity"

. label define labethnic2 1 "Somali" 2 "Maasai" 3 "Mbere" 4 "Luo" 5 "Kalenjin" 6 "Luhya" 7 "Kamba" 8 "Kikuya" 9 "Other"

. label value ethnic2 labethnic2

. 
. // similar to region, recode so they are ordered from lowest to highest coverage
. gen ethnic=v131
(1 missing value generated)

. recode ethnic 1=7 2=3 3=5 4=6 5=7 6=4 7=2 8/10=7 11=1 12/96=7
(ethnic: 3942 changes made)

. label var ethnic "Ethicity"

. label define labethnic 1 "Somali" 2 "Luo" 3 "Kalenjin" 4 "Luhya" 5 "Kamba" 6 "Kikuya" 7 "Other"

. label value ethnic labethnic

. 
. // Recode and rename remaining variables with user-friendly labels
. 
. // Recode sex of child
. gen sex=b4

. recode sex 1=1 2=2
(sex: 0 changes made)

. label var sex "Child sex"

. label define labsex 1 "Male" 2 "Female"

. label value sex labsex

. tab sex b4

           |     sex of child
 Child sex |      male     female |     Total
-----------+----------------------+----------
      Male |     2,041          0 |     2,041 
    Female |         0      1,902 |     1,902 
-----------+----------------------+----------
     Total |     2,041      1,902 |     3,943 

. 
. // Recode maternal education status
. gen educ=v106

. recode educ 0=1 1=2 2=3 3=4
(educ: 3943 changes made)

. label var educ "Maternal education"

. label define labeduc 1 "No education" 2 "Primary" 3 "Secondary" 4 "Higher"

. label value educ labeduc

. tab educ v106

    Maternal |          highest educational level
   education | no educat    primary  secondary     higher |     Total
-------------+--------------------------------------------+----------
No education |       855          0          0          0 |       855 
     Primary |         0      2,065          0          0 |     2,065 
   Secondary |         0          0        776          0 |       776 
      Higher |         0          0          0        247 |       247 
-------------+--------------------------------------------+----------
       Total |       855      2,065        776        247 |     3,943 

. 
. // Recode partnership status
. gen union=v502

. recode union 0=3 1=2 2=1
(union: 3943 changes made)

. label var union "Partnership status"

. label define labunion 1 "Formerly" 2 "Currently" 3 "Never"

. label value union labunion

. tab union v502

           |   currently/formerly/never in
Partnershi |              union
  p status | never in   currently  formerly  |     Total
-----------+---------------------------------+----------
  Formerly |         0          0        290 |       290 
 Currently |         0      3,392          0 |     3,392 
     Never |       261          0          0 |       261 
-----------+---------------------------------+----------
     Total |       261      3,392        290 |     3,943 

. 
. // Recode wealth status
. gen wealth=v190

. label var wealth "Wealth index"

. label define labwealth 1 "Poorest" 2 "Poorer" 3 "Middle" 4 "Richer" 5 "Richest"

. label value wealth labwealth

. tab wealth v190

    Wealth |                      wealth index
     index |   poorest     poorer     middle     richer    richest |     Total
-----------+-------------------------------------------------------+----------
   Poorest |     1,412          0          0          0          0 |     1,412 
    Poorer |         0        839          0          0          0 |       839 
    Middle |         0          0        631          0          0 |       631 
    Richer |         0          0          0        575          0 |       575 
   Richest |         0          0          0          0        486 |       486 
-----------+-------------------------------------------------------+----------
     Total |     1,412        839        631        575        486 |     3,943 

. 
. // Recode rural/urban area of residence
. gen rural=v025

. recode rural 1=2 2=1
(rural: 3943 changes made)

. label var rural "Rural-Urban"

. label define labrural 1 "Rural" 2 "Urban"

. label value rural labrural

. tab rural v025

           |   type of place of
Rural-Urba |       residence
         n |     urban      rural |     Total
-----------+----------------------+----------
     Rural |         0      2,743 |     2,743 
     Urban |     1,200          0 |     1,200 
-----------+----------------------+----------
     Total |     1,200      2,743 |     3,943 

. 
. // Recode region
. gen region=v024

. recode region 1=5 2=1 3=8 4=7 5=3 7=6 8=4 9=2
(region: 3943 changes made)

. label var region "Region"

. label define labregion 1 "North eastern" 2 "Nairobi" 3 "Rift Valley" 4 "Nyanza" 5 "Coast" 6 "Western" 7 "Central" 8 "Eastern"

. label value region labregion

. tab region v024

              |                                         region
       Region |     coast  north eas    eastern    central  rift vall    western     nyanza    nairobi |     Total
--------------+----------------------------------------------------------------------------------------+----------
North eastern |         0        289          0          0          0          0          0          0 |       289 
      Nairobi |         0          0          0          0          0          0          0        100 |       100 
  Rift Valley |         0          0          0          0      1,273          0          0          0 |     1,273 
       Nyanza |         0          0          0          0          0          0        561          0 |       561 
        Coast |       504          0          0          0          0          0          0          0 |       504 
      Western |         0          0          0          0          0        356          0          0 |       356 
      Central |         0          0          0        285          0          0          0          0 |       285 
      Eastern |         0          0        575          0          0          0          0          0 |       575 
--------------+----------------------------------------------------------------------------------------+----------
        Total |       504        289        575        285      1,273        356        561        100 |     3,943 

. // -----------------------------------------------------------------------------
. 
. // -----------------------------------------------------------------------------
. // Descriptive characteristics
. 
. // *****************************************************************************
. // Table: Vaccination coverage in Kenya at the national level
. // Mean coverage and 95% CI, by vaccine
. svy: mean bcg
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
         bcg |   .9668038   .0039788      .9589983    .9746093
--------------------------------------------------------------

. svy: mean dpt1
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
        dpt1 |   .9741932    .003751      .9668345    .9815519
--------------------------------------------------------------

. svy: mean dpt2
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
        dpt2 |     .95996   .0048989      .9503494    .9695705
--------------------------------------------------------------

. svy: mean dpt3
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
        dpt3 |   .9040465    .006858      .8905925    .9175005
--------------------------------------------------------------

. svy: mean dptfull
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     dptfull |   .9017566   .0068555      .8883076    .9152056
--------------------------------------------------------------

. svy: mean polio1
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
      polio1 |   .9729684   .0037895      .9655341    .9804027
--------------------------------------------------------------

. svy: mean polio2
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
      polio2 |   .9460599   .0049471      .9363547    .9557651
--------------------------------------------------------------

. svy: mean polio3
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
      polio3 |   .8239829   .0092563       .805824    .8421418
--------------------------------------------------------------

. svy: mean poliofull
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
   poliofull |    .820618   .0092912      .8023905    .8388455
--------------------------------------------------------------

. svy: mean measles
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     measles |   .8701492   .0067166      .8569726    .8833257
--------------------------------------------------------------

. svy: mean pcv1
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
        pcv1 |   .9330446   .0067588      .9197852    .9463041
--------------------------------------------------------------

. svy: mean pcv2
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
        pcv2 |   .9099785   .0074904      .8952838    .9246731
--------------------------------------------------------------

. svy: mean pcv3
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
        pcv3 |   .8602334   .0078834      .8447678    .8756991
--------------------------------------------------------------

. svy: mean pcvfull
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     pcvfull |   .8542083   .0083688      .8377903    .8706262
--------------------------------------------------------------

. svy: mean fullvac
(running mean on estimation sample)

Survey: Mean estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized
             |       Mean   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
     fullvac |   .6820624    .011485      .6595312    .7045935
--------------------------------------------------------------

. // *****************************************************************************
. 
. // *****************************************************************************
. // Table: Inequities in full immunisation coverage in Kenya associated with
. // socioeconomic, geographic, maternal, child, and place of birth characteristics.
.  
. // *****************************************************************************
. // table column: Children in each subgroup (%)
. svy: tab fullvac
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
  fullvac | proportion
----------+-----------
        0 |      .3179
        1 |      .6821
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab sex
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Child sex | proportion
----------+-----------
     Male |      .5205
   Female |      .4795
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab birthord
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Birth     |
order -   |
Few       | proportion
----------+-----------
        1 |      .2551
      2-3 |      .4029
      4-5 |      .1943
       6+ |      .1477
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab matagebirth3
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Maternal  |
age at    |
birth     | proportion
----------+-----------
    10-19 |      .1323
    20-29 |      .6017
      30+ |       .266
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab delivery
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
                                                Design df         =      1,297

----------------------
Delivery  |
setting   | proportion
----------+-----------
     Home |      .3619
 Clinical |      .6314
    Other |      .0067
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab educ
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Maternal  |
education | proportion
----------+-----------
 No educa |      .1164
  Primary |      .5566
 Secondar |      .2435
   Higher |      .0835
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab union
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Partnersh |
ip status | proportion
----------+-----------
 Formerly |      .0791
 Currentl |      .8513
    Never |      .0696
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab motherhhd
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Head of   |
household |
- Mother  | proportion
----------+-----------
   Mother |      .1815
    Other |      .8185
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab wealth
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Wealth    |
index     | proportion
----------+-----------
  Poorest |      .2526
   Poorer |      .2057
   Middle |      .1788
   Richer |      .1735
  Richest |      .1893
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab religion
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,390                  Population size   = 3,652.4207
                                                Design df         =      1,298

----------------------
 Religion | proportion
----------+-----------
   Muslim |      .0854
 No relig |      .0271
 Christia |      .8863
    Other |      .0012
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab ethnic2
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,942
Number of PSUs     =     1,390                  Population size   = 3,656.8148
                                                Design df         =      1,298

----------------------
 Ethicity | proportion
----------+-----------
   Somali |      .0388
   Maasai |      .0345
    Mbere |      .0032
      Luo |       .126
 Kalenjin |      .1328
    Luhya |      .1531
    Kamba |      .0954
   Kikuya |       .177
    Other |      .2391
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab rural
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
Rural-Urb |
an        | proportion
----------+-----------
    Rural |       .657
    Urban |       .343
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. svy: tab region
(running tabulate on estimation sample)

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298

----------------------
   Region | proportion
----------+-----------
 North ea |      .0326
  Nairobi |      .1074
 Rift Val |       .286
   Nyanza |      .1456
    Coast |      .1033
  Western |      .1127
  Central |      .0973
  Eastern |      .1151
          | 
    Total |          1
----------------------
  Key:  proportion  =  cell proportion

. // *****************************************************************************
. 
. // *****************************************************************************
. // Full vaccination coverage in each subgroup
. // table column: Full vaccination coverage (%) + 95% confidence intervals
. svy: proportion fullvac, over (sex)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92        Number of obs   =      3,943
Number of PSUs   =   1,390        Population size = 3,657.8435
                                  Design df       =      1,298

--------------------------------------------------------------
             |             Linearized            Logit
             | Proportion   Std. Err.     [95% Conf. Interval]
-------------+------------------------------------------------
 fullvac@sex |
     0 Male  |   .3208076   .0139937      .2939955    .3488565
   0 Female  |   .3148222   .0151612      .2858643    .3452952
     1 Male  |   .6791924   .0139937      .6511435    .7060045
   1 Female  |   .6851778   .0151612      .6547048    .7141357
--------------------------------------------------------------

. svy: proportion fullvac, over (birthord)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92            Number of obs   =      3,943
Number of PSUs   =   1,390            Population size = 3,657.8435
                                      Design df       =      1,298

------------------------------------------------------------------
                 |             Linearized            Logit
                 | Proportion   Std. Err.     [95% Conf. Interval]
-----------------+------------------------------------------------
fullvac@birthord |
            0 1  |   .2883444   .0283756      .2360033    .3470211
          0 2-3  |   .2877792   .0161181      .2572199     .320403
          0 4-5  |   .3141511   .0214344      .2736968    .3576404
           0 6+  |    .456329   .0256656      .4065899    .5069546
            1 1  |   .7116556   .0283756      .6529789    .7639967
          1 2-3  |   .7122208   .0161181       .679597    .7427801
          1 4-5  |   .6858489   .0214344      .6423596    .7263032
           1 6+  |    .543671   .0256656      .4930454    .5934101
------------------------------------------------------------------

. svy: proportion fullvac, over (matagebirth3)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92                Number of obs   =      3,943
Number of PSUs   =   1,390                Population size = 3,657.8435
                                          Design df       =      1,298

----------------------------------------------------------------------
                     |             Linearized            Logit
                     | Proportion   Std. Err.     [95% Conf. Interval]
---------------------+------------------------------------------------
fullvac@matagebirth3 |
            0 10-19  |   .3402273   .0284052      .2868913    .3979456
            0 20-29  |    .302337   .0157105      .2724332    .3340164
              0 30+  |   .3421408    .020819      .3025412    .3840694
            1 10-19  |   .6597727   .0284052      .6020544    .7131087
            1 20-29  |    .697663   .0157105      .6659836    .7275668
              1 30+  |   .6578592    .020819      .6159306    .6974588
----------------------------------------------------------------------

. svy: proportion fullvac, over (delivery)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92               Number of obs   =      3,936
Number of PSUs   =   1,389               Population size = 3,651.8531
                                         Design df       =      1,297

---------------------------------------------------------------------
                    |             Linearized            Logit
                    | Proportion   Std. Err.     [95% Conf. Interval]
--------------------+------------------------------------------------
   fullvac@delivery |
            0 Home  |   .3971635   .0163539      .3655632    .4296455
0 Clinical setting  |   .2730208   .0161441      .2425188    .3058102
           0 Other  |   .2475048   .1028328       .100188    .4928025
            1 Home  |   .6028365   .0163539      .5703545    .6344368
1 Clinical setting  |   .7269792   .0161441      .6941898    .7574812
           1 Other  |   .7524952   .1028328      .5071975     .899812
---------------------------------------------------------------------

. svy: proportion fullvac, over (educ)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92           Number of obs   =      3,943
Number of PSUs   =   1,390           Population size = 3,657.8435
                                     Design df       =      1,298

-----------------------------------------------------------------
                |             Linearized            Logit
                | Proportion   Std. Err.     [95% Conf. Interval]
----------------+------------------------------------------------
   fullvac@educ |
0 No education  |   .4955167   .0271618      .4424822    .5486522
     0 Primary  |   .3191961   .0131826      .2939085    .3455946
   0 Secondary  |   .2667036   .0243026      .2218028    .3169914
      0 Higher  |    .211302    .049355      .1303251    .3238568
1 No education  |   .5044833   .0271618      .4513478    .5575178
     1 Primary  |   .6808039   .0131826      .6544054    .7060915
   1 Secondary  |   .7332964   .0243026      .6830086    .7781972
      1 Higher  |    .788698    .049355      .6761432    .8696749
-----------------------------------------------------------------

. svy: proportion fullvac, over (union)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92         Number of obs   =      3,943
Number of PSUs   =   1,390         Population size = 3,657.8435
                                   Design df       =      1,298

---------------------------------------------------------------
              |             Linearized            Logit
              | Proportion   Std. Err.     [95% Conf. Interval]
--------------+------------------------------------------------
fullvac@union |
  0 Formerly  |   .3659643   .0481433      .2775577    .4644277
 0 Currently  |   .3156494   .0119105      .2927621    .3394671
     0 Never  |   .2913573   .0357474      .2264509    .3660638
  1 Formerly  |   .6340357   .0481433      .5355723    .7224423
 1 Currently  |   .6843506   .0119105      .6605329    .7072379
     1 Never  |   .7086427   .0357474      .6339362    .7735491
---------------------------------------------------------------

. svy: proportion fullvac, over (motherhhd)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92             Number of obs   =      3,943
Number of PSUs   =   1,390             Population size = 3,657.8435
                                       Design df       =      1,298

-------------------------------------------------------------------
                  |             Linearized            Logit
                  | Proportion   Std. Err.     [95% Conf. Interval]
------------------+------------------------------------------------
fullvac@motherhhd |
        0 Mother  |   .3212063   .0224025       .278924    .3666391
         0 Other  |   .3172127   .0131778       .291942    .3436093
        1 Mother  |   .6787937   .0224025      .6333609     .721076
         1 Other  |   .6827873   .0131778      .6563907     .708058
-------------------------------------------------------------------

. svy: proportion fullvac, over (wealth)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92          Number of obs   =      3,943
Number of PSUs   =   1,390          Population size = 3,657.8435
                                    Design df       =      1,298

----------------------------------------------------------------
               |             Linearized            Logit
               | Proportion   Std. Err.     [95% Conf. Interval]
---------------+------------------------------------------------
fullvac@wealth |
    0 Poorest  |   .4172569   .0189713      .3805752    .4548778
     0 Poorer  |   .3095019   .0190496      .2734243    .3480596
     0 Middle  |   .2732238   .0239738      .2287864    .3226809
     0 Richer  |   .2631945   .0261904      .2151122    .3176745
    0 Richest  |    .286982   .0369033      .2203046     .364408
    1 Poorest  |   .5827431   .0189713      .5451222    .6194248
     1 Poorer  |   .6904981   .0190496      .6519404    .7265757
     1 Middle  |   .7267762   .0239738      .6773191    .7712136
     1 Richer  |   .7368055   .0261904      .6823255    .7848878
    1 Richest  |    .713018   .0369033       .635592    .7796954
----------------------------------------------------------------

. svy: proportion fullvac, over (religion)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92            Number of obs   =      3,936
Number of PSUs   =   1,390            Population size = 3,652.4207
                                      Design df       =      1,298

------------------------------------------------------------------
                 |             Linearized            Logit
                 | Proportion   Std. Err.     [95% Conf. Interval]
-----------------+------------------------------------------------
fullvac@religion |
       0 Muslim  |   .3958557   .0313027      .3363637    .4585987
  0 No religion  |   .3302293   .0495653      .2410777    .4335169
    0 Christian  |   .3100196    .012049       .286891     .334139
        0 Other  |   .5402492   .1279893      .2995254    .7635516
       1 Muslim  |   .6041443   .0313027      .5414013    .6636363
  1 No religion  |   .6697707   .0495653      .5664831    .7589223
    1 Christian  |   .6899804    .012049       .665861     .713109
        1 Other  |   .4597508   .1279893      .2364484    .7004746
------------------------------------------------------------------

. svy: proportion fullvac, over (ethnic2)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92           Number of obs   =      3,942
Number of PSUs   =   1,390           Population size = 3,656.8148
                                     Design df       =      1,298

-----------------------------------------------------------------
                |             Linearized            Logit
                | Proportion   Std. Err.     [95% Conf. Interval]
----------------+------------------------------------------------
fullvac@ethnic2 |
      0 Somali  |   .5000013   .0383851      .4252619    .5747407
      0 Maasai  |   .5410208   .0575319      .4279868    .6499855
       0 Mbere  |   .5610092   .1111996      .3451265    .7560325
         0 Luo  |   .4035743   .0272093      .3515215    .4578924
    0 Kalenjin  |    .335571   .0239302      .2903571    .3840156
       0 Luhya  |   .3360492   .0293095       .281172    .3957403
       0 Kamba  |   .2556448   .0360584      .1914723    .3324806
      0 Kikuya  |   .2333658   .0335341      .1740602    .3054061
       0 Other  |   .2741665   .0210964      .2347719    .3174293
      1 Somali  |   .4999987   .0383851      .4252593    .5747381
      1 Maasai  |   .4589792   .0575319      .3500145    .5720132
       1 Mbere  |   .4389908   .1111996      .2439675    .6548735
         1 Luo  |   .5964257   .0272093      .5421076    .6484785
    1 Kalenjin  |    .664429   .0239302      .6159844    .7096429
       1 Luhya  |   .6639508   .0293095      .6042597     .718828
       1 Kamba  |   .7443552   .0360584      .6675194    .8085277
      1 Kikuya  |   .7666342   .0335341      .6945939    .8259398
       1 Other  |   .7258335   .0210964      .6825707    .7652281
-----------------------------------------------------------------

. svy: proportion fullvac, over (rural)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92         Number of obs   =      3,943
Number of PSUs   =   1,390         Population size = 3,657.8435
                                   Design df       =      1,298

---------------------------------------------------------------
              |             Linearized            Logit
              | Proportion   Std. Err.     [95% Conf. Interval]
--------------+------------------------------------------------
fullvac@rural |
     0 Rural  |   .3156018   .0113432      .2937826    .3382653
     0 Urban  |   .3224122   .0254327      .2746625    .3741808
     1 Rural  |   .6843982   .0113432      .6617347    .7062174
     1 Urban  |   .6775878   .0254327      .6258192    .7253375
---------------------------------------------------------------

. svy: proportion fullvac, over (region)
(running proportion on estimation sample)

Survey: Proportion estimation

Number of strata =      92            Number of obs   =      3,943
Number of PSUs   =   1,390            Population size = 3,657.8435
                                      Design df       =      1,298

------------------------------------------------------------------
                 |             Linearized            Logit
                 | Proportion   Std. Err.     [95% Conf. Interval]
-----------------+------------------------------------------------
  fullvac@region |
0 North eastern  |   .5772137   .0352587      .5069757    .6444626
      0 Nairobi  |   .4028049   .0679778      .2792522    .5400616
  0 Rift Valley  |   .3479828    .016877      .3156484    .3817817
       0 Nyanza  |   .3561451   .0227626      .3128395    .4019388
        0 Coast  |   .2659104   .0267638      .2167936    .3215858
      0 Western  |    .275527   .0271688      .2255215    .3318691
      0 Central  |   .2165636   .0275917      .1673057    .2755253
      0 Eastern  |   .2162337   .0293786      .1641285    .2793523
1 North eastern  |   .4227863   .0352587      .3555374    .4930243
      1 Nairobi  |   .5971951   .0679778      .4599384    .7207478
  1 Rift Valley  |   .6520172    .016877      .6182183    .6843516
       1 Nyanza  |   .6438549   .0227626      .5980612    .6871605
        1 Coast  |   .7340896   .0267638      .6784142    .7832064
      1 Western  |    .724473   .0271688      .6681309    .7744785
      1 Central  |   .7834364   .0275917      .7244747    .8326943
      1 Eastern  |   .7837663   .0293786      .7206477    .8358715
------------------------------------------------------------------

. // *****************************************************************************
. // -----------------------------------------------------------------------------
. 
. // -----------------------------------------------------------------------------
. // Inferential characteristics
. 
. // *****************************************************************************
. // Crude OR and 95% CI
. // table column: Crude odds ratio (OR and 95% CI) + p-value
. svy: logistic fullvac i.sex, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   1,   1298)   =       0.11
                                                Prob > F          =     0.7388

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         sex |
       Male  |          1  (base)
     Female  |   1.027992   .0850832     0.33   0.739     .8739227    1.209223
             |
       _cons |   2.117134   .1359704    11.68   0.000     1.866508    2.401412
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.birthord, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   3,   1296)   =      11.78
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    birthord |
          1  |          1  (base)
        2-3  |    1.00276    .155513     0.02   0.986      .739716    1.359342
        4-5  |   .8845685   .1512741    -0.72   0.473     .6324522    1.237187
         6+  |   .4827248    .083808    -4.19   0.000     .3433846    .6786072
             |
       _cons |   2.468075   .3412885     6.53   0.000      1.88167     3.23723
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.matagebirth3, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   2,   1297)   =       1.50
                                                Prob > F          =     0.2231

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
matagebirth3 |
      10-19  |          1  (base)
      20-29  |   1.189951   .1703613     1.21   0.225     .8985696     1.57582
        30+  |   .9915231   .1603121    -0.05   0.958      .722021     1.36162
             |
       _cons |   1.939212   .2453915     5.23   0.000     1.512906    2.485641
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.delivery, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
                                                Design df         =      1,297
                                                F(   2,   1296)   =      13.82
                                                Prob > F          =     0.0000

-----------------------------------------------------------------------------------
                  |             Linearized
          fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
         delivery |
            Home  |          1  (base)
Clinical setting  |   1.754269   .1918204     5.14   0.000      1.41558     2.17399
           Other  |   2.003041   1.106628     1.26   0.209     .6776165    5.921009
                  |
            _cons |   1.517855   .1036771     6.11   0.000       1.3275    1.735505
-----------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.educ, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   3,   1296)   =      15.34
                                                Prob > F          =     0.0000

-------------------------------------------------------------------------------
              |             Linearized
      fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------+----------------------------------------------------------------
         educ |
No education  |          1  (base)
     Primary  |   2.094961   .2625267     5.90   0.000      1.63836    2.678813
   Secondary  |   2.700612   .4483976     5.98   0.000     1.949847    3.740449
      Higher  |    3.66622   1.157043     4.12   0.000     1.973933    6.809334
              |
        _cons |   1.018096   .1106221     0.17   0.869     .8226482    1.259978
-------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.union, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   2,   1297)   =       0.82
                                                Prob > F          =     0.4404

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       union |
   Formerly  |          1  (base)
  Currently  |   1.251408   .2606343     1.08   0.282     .8316703    1.882983
      Never  |   1.403868   .3776336     1.26   0.207     .8282163    2.379628
             |
       _cons |   1.732507   .3594662     2.65   0.008     1.153188    2.602854
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.motherhhd, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   1,   1298)   =       0.02
                                                Prob > F          =     0.8782

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   motherhhd |
     Mother  |          1  (base)
      Other  |   1.018547   .1221336     0.15   0.878     .8050422    1.288676
             |
       _cons |   2.113264   .2171347     7.28   0.000     1.727478    2.585206
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.wealth, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   4,   1295)   =       9.18
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      wealth |
    Poorest  |          1  (base)
     Poorer  |   1.597443   .1958932     3.82   0.000     1.255873    2.031912
     Middle  |   1.904621   .2633278     4.66   0.000     1.452158    2.498062
     Richer  |   2.004482   .3166212     4.40   0.000     1.470361    2.732629
    Richest  |   1.778985   .3497796     2.93   0.003     1.209636    2.616312
             |
       _cons |   1.396605    .108966     4.28   0.000     1.198393    1.627602
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.religion, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,390                  Population size   = 3,652.4207
                                                Design df         =      1,298
                                                F(   3,   1296)   =       3.64
                                                Prob > F          =     0.0124

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    religion |
     Muslim  |          1  (base)
No religion  |   1.328944   .3413366     1.11   0.268      .802922    2.199582
  Christian  |    1.45829   .1972967     2.79   0.005     1.118342    1.901574
      Other  |   .5576024   .2967189    -1.10   0.273      .196313      1.5838
             |
       _cons |   1.526173     .19976     3.23   0.001     1.180556    1.972973
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.ethnic2, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,942
Number of PSUs     =     1,390                  Population size   = 3,656.8148
                                                Design df         =      1,298
                                                F(   8,   1291)   =       7.22
                                                Prob > F          =     0.0000

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     ethnic2 |
     Somali  |          1  (base)
     Maasai  |   .8483622   .2352863    -0.59   0.553      .492365    1.461758
      Mbere  |    .782506    .373187    -0.51   0.607     .3070153    1.994414
        Luo  |   1.477866    .291076     1.98   0.048     1.004219    2.174912
   Kalenjin  |   1.980006   .3712948     3.64   0.000     1.370561    2.860451
      Luhya  |   1.975765   .3955987     3.40   0.001     1.333964    2.926353
      Kamba  |   2.911693   .7148931     4.35   0.000     1.798703    4.713373
     Kikuya  |   3.285135   .7855185     4.97   0.000     2.055086    5.251418
      Other  |   2.647433   .5008618     5.15   0.000     1.826576     3.83718
             |
       _cons |   .9999948   .1535397    -0.00   1.000     .7399151    1.351492
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.rural, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   1,   1298)   =       0.06
                                                Prob > F          =     0.8061

------------------------------------------------------------------------------
             |             Linearized
     fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       rural |
      Rural  |          1  (base)
      Urban  |   .9691359   .1237717    -0.25   0.806     .7543508    1.245076
             |
       _cons |    2.16855   .1138823    14.74   0.000      1.95626    2.403877
------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. svy: logistic fullvac i.region, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,943
Number of PSUs     =     1,390                  Population size   = 3,657.8435
                                                Design df         =      1,298
                                                F(   7,   1292)   =      12.21
                                                Prob > F          =     0.0000

--------------------------------------------------------------------------------
               |             Linearized
       fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
        region |
North eastern  |          1  (base)
      Nairobi  |   2.024124   .6424208     2.22   0.026     1.085997    3.772641
  Rift Valley  |   2.558096   .4157008     5.78   0.000     1.859791    3.518597
       Nyanza  |   2.468179   .4326617     5.15   0.000     1.749949    3.481193
        Coast  |   3.769029   .7507215     6.66   0.000     2.549925    5.570978
      Western  |   3.589829   .7125605     6.44   0.000     2.431965    5.298953
      Central  |   4.938941   1.074396     7.34   0.000     3.223252    7.567866
      Eastern  |   4.948558   1.116713     7.09   0.000     3.178437    7.704487
               |
         _cons |   .7324608   .1058263    -2.15   0.031     .5516804    .9724812
--------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. // *****************************************************************************
. 
. /* 
> Regression diagnostics:
> https://stats.idre.ucla.edu/stata/webbooks/reg/chapter2/stata-webbooksregressionwith-statachapter-2-regression-diagnostics/
> 
> Collinearity:
> http://www.philender.com/courses/categorical/notes2/collin.html
> */
. 
. 
. // -----------------------------------------------------------------------------
. // Multivariable regression of full model with 12 explanatory variables
. svy: logistic fullvac i.sex i.birthord i.matagebirth3 i.delivery i.educ i.union i.motherhhd i.wealth i.religion i.ethnic2 i.rural i.region, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,929
Number of PSUs     =     1,389                  Population size   = 3,646.2581
                                                Design df         =      1,297
                                                F(  37,   1261)   =       5.72
                                                Prob > F          =     0.0000

-----------------------------------------------------------------------------------
                  |             Linearized
          fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          1  (base)
          Female  |   1.033109   .0937453     0.36   0.720     .8646394    1.234403
                  |
         birthord |
               1  |          1  (base)
             2-3  |   1.131769   .1845092     0.76   0.448     .8219763     1.55832
             4-5  |   1.084216   .2095353     0.42   0.676     .7420943    1.584063
              6+  |   .6326785   .1513623    -1.91   0.056     .3956863    1.011615
                  |
     matagebirth3 |
           10-19  |          1  (base)
           20-29  |    1.17336   .2000557     0.94   0.349      .839784    1.639439
             30+  |    1.15509   .2692348     0.62   0.536     .7311854    1.824752
                  |
         delivery |
            Home  |          1  (base)
Clinical setting  |   1.345602   .1593622     2.51   0.012     1.066628     1.69754
           Other  |    1.56732   .8006293     0.88   0.379     .5753539    4.269535
                  |
             educ |
    No education  |          1  (base)
         Primary  |   1.549095   .2640036     2.57   0.010     1.108861    2.164109
       Secondary  |   1.754623   .3695034     2.67   0.008     1.160815    2.652189
          Higher  |   2.461257   .8545941     2.59   0.010     1.245455    4.863915
                  |
            union |
        Formerly  |          1  (base)
       Currently  |   1.376408   .2982311     1.47   0.141     .8997923    2.105486
           Never  |   1.233874   .3631999     0.71   0.475     .6925946    2.198175
                  |
        motherhhd |
          Mother  |          1  (base)
           Other  |   .9208389   .1167959    -0.65   0.516     .7179917    1.180994
                  |
           wealth |
         Poorest  |          1  (base)
          Poorer  |   1.215932   .1802669     1.32   0.187     .9090703    1.626377
          Middle  |   1.401503   .2194973     2.16   0.031     1.030762    1.905593
          Richer  |   1.551664   .2963684     2.30   0.022     1.066758    2.256989
         Richest  |   1.321118   .3072975     1.20   0.231      .837074    2.085065
                  |
         religion |
          Muslim  |          1  (base)
     No religion  |   1.322937   .4264014     0.87   0.385     .7029566    2.489716
       Christian  |   1.047516   .2710547     0.18   0.858     .6305197    1.740295
           Other  |   .4291049   .2063878    -1.76   0.079      .167023    1.102429
                  |
          ethnic2 |
          Somali  |          1  (base)
          Maasai  |   .1078409   .0735733    -3.26   0.001     .0282825    .4111961
           Mbere  |   .1272639   .0990627    -2.65   0.008     .0276381    .5860068
             Luo  |   .1218749    .079484    -3.23   0.001     .0339048    .4380935
        Kalenjin  |   .1734665   .1113956    -2.73   0.006     .0492137    .6114281
           Luhya  |   .1344585   .0863681    -3.12   0.002     .0381344    .4740889
           Kamba  |   .2176254   .1420349    -2.34   0.020      .060485    .7830178
          Kikuya  |   .2723234   .1833107    -1.93   0.054     .0727068    1.019987
           Other  |   .2212013   .1410829    -2.37   0.018     .0632968    .7730255
                  |
            rural |
           Rural  |          1  (base)
           Urban  |   .7677872    .089599    -2.26   0.024     .6106816    .9653101
                  |
           region |
   North eastern  |          1  (base)
         Nairobi  |   3.959031   2.455276     2.22   0.027      1.17275    13.36511
     Rift Valley  |   7.506841   4.675569     3.24   0.001     2.212069    25.47509
          Nyanza  |   7.565829   4.956542     3.09   0.002     2.092641    27.35384
           Coast  |   10.33378    6.57924     3.67   0.000     2.963574    36.03318
         Western  |   12.00648   7.791542     3.83   0.000     3.361373    42.88589
         Central  |   6.819844   4.577406     2.86   0.004     1.827778    25.44634
         Eastern  |   10.30601   6.628862     3.63   0.000     2.917988     36.3997
                  |
            _cons |   .4755623     .14933    -2.37   0.018     .2568469    .8805228
-----------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. 
. // -----------------------------------------------------------------------------
. // Check for collinearity
. // Multicollinearity occurs when there are high correlations among predictor variables, 
. // leading to unreliable and unstable estimates of regression coefficients. 
. 
. regress fullvac i.sex i.birthord i.matagebirth3 i.delivery i.educ i.union i.motherhhd i.wealth i.religion i.ethnic2 i.rural i.region, base

      Source |       SS           df       MS      Number of obs   =     3,929
-------------+----------------------------------   F(37, 3891)     =     10.22
       Model |  76.9406391        37  2.07947673   Prob > F        =    0.0000
    Residual |  791.567378     3,891  .203435461   R-squared       =    0.0886
-------------+----------------------------------   Adj R-squared   =    0.0799
       Total |  868.508017     3,928  .221106929   Root MSE        =    .45104

-----------------------------------------------------------------------------------
          fullvac |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          0  (base)
          Female  |   .0164726   .0144661     1.14   0.255    -.0118894    .0448346
                  |
         birthord |
               1  |          0  (base)
             2-3  |  -.0125145   .0220455    -0.57   0.570    -.0557362    .0307073
             4-5  |  -.0136546   .0276065    -0.49   0.621    -.0677792      .04047
              6+  |  -.0684144   .0326959    -2.09   0.036    -.1325172   -.0043116
                  |
     matagebirth3 |
           10-19  |          0  (base)
           20-29  |   .0406896   .0253289     1.61   0.108    -.0089696    .0903487
             30+  |   .0268372   .0322694     0.83   0.406    -.0364294    .0901038
                  |
         delivery |
            Home  |          0  (base)
Clinical setting  |   .0746617   .0178298     4.19   0.000     .0397051    .1096183
           Other  |   .1223961   .0900693     1.36   0.174    -.0541913    .2989836
                  |
             educ |
    No education  |          0  (base)
         Primary  |   .0964378   .0253324     3.81   0.000     .0467718    .1461038
       Secondary  |   .1315587   .0315907     4.16   0.000     .0696228    .1934946
          Higher  |   .1942879   .0423343     4.59   0.000     .1112884    .2772874
                  |
            union |
        Formerly  |          0  (base)
       Currently  |   .0330636   .0283864     1.16   0.244    -.0225901    .0887172
           Never  |    .012686   .0405158     0.31   0.754    -.0667482    .0921201
                  |
        motherhhd |
          Mother  |          0  (base)
           Other  |   .0075835   .0186459     0.41   0.684    -.0289732    .0441402
                  |
           wealth |
         Poorest  |          0  (base)
          Poorer  |   .0529517   .0227828     2.32   0.020     .0082843     .097619
          Middle  |   .0875464   .0252919     3.46   0.001     .0379598    .1371331
          Richer  |   .0891805   .0276327     3.23   0.001     .0350045    .1433565
         Richest  |   .0588558   .0337962     1.74   0.082    -.0074041    .1251157
                  |
         religion |
          Muslim  |          0  (base)
     No religion  |    .029365   .0518669     0.57   0.571    -.0723238    .1310539
       Christian  |   .0172309   .0319691     0.54   0.590    -.0454468    .0799087
           Other  |  -.2803515   .1467632    -1.91   0.056    -.5680916    .0073885
                  |
          ethnic2 |
          Somali  |          0  (base)
          Maasai  |  -.2328358   .0956245    -2.43   0.015    -.4203148   -.0453569
           Mbere  |  -.1892746   .1242035    -1.52   0.128    -.4327848    .0542356
             Luo  |  -.2458123   .0910267    -2.70   0.007    -.4242769   -.0673477
        Kalenjin  |  -.1751444   .0899101    -1.95   0.051    -.3514197     .001131
           Luhya  |  -.1877973    .091851    -2.04   0.041     -.367878   -.0077166
           Kamba  |  -.1501281   .0921092    -1.63   0.103     -.330715    .0304588
          Kikuya  |  -.0469235   .0914228    -0.51   0.608    -.2261647    .1323176
           Other  |  -.1149566   .0858296    -1.34   0.181    -.2832318    .0533187
                  |
            rural |
           Rural  |          0  (base)
           Urban  |  -.0472958   .0191187    -2.47   0.013    -.0847795   -.0098121
                  |
           region |
   North eastern  |          0  (base)
         Nairobi  |   .1112601   .0972761     1.14   0.253     -.079457    .3019772
     Rift Valley  |   .2388914   .0871447     2.74   0.006     .0680378    .4097449
          Nyanza  |   .2432378   .0908062     2.68   0.007     .0652054    .4212701
           Coast  |   .2982094   .0873559     3.41   0.001     .1269417    .4694771
         Western  |   .3357176   .0926019     3.63   0.000     .1541648    .5172705
         Central  |   .1663381   .0935363     1.78   0.075    -.0170467    .3497229
         Eastern  |   .3252733   .0876523     3.71   0.000     .1534246     .497122
                  |
            _cons |   .3336847   .0465826     7.16   0.000     .2423561    .4250134
-----------------------------------------------------------------------------------

. estat vif

    Variable |       VIF       1/VIF  
-------------+----------------------
       2.sex |      1.01    0.990824
    birthord |
          2  |      2.21    0.452085
          3  |      2.50    0.399715
          4  |      3.04    0.329321
matagebirth3 |
          2  |      3.00    0.333072
          3  |      4.05    0.247074
    delivery |
          2  |      1.52    0.659283
          3  |      1.03    0.970920
        educ |
          2  |      3.09    0.323488
          3  |      3.04    0.328945
          4  |      2.02    0.494127
       union |
          2  |      1.86    0.537023
          3  |      1.94    0.515971
 2.motherhhd |      1.11    0.901792
      wealth |
          2  |      1.68    0.596580
          3  |      1.66    0.601205
          4  |      1.83    0.546734
          5  |      2.39    0.418956
    religion |
          2  |      1.40    0.713574
          3  |      3.15    0.317184
          4  |      1.06    0.946889
     ethnic2 |
          2  |      5.98    0.167085
          3  |      2.03    0.491801
          4  |     15.41    0.064911
          5  |     20.09    0.049775
          6  |     15.78    0.063357
          7  |     11.34    0.088156
          8  |     16.84    0.059370
          9  |     30.81    0.032456
     2.rural |      1.50    0.668675
      region |
          2  |      4.53    0.220603
          3  |     32.10    0.031155
          4  |     19.32    0.051765
          5  |     16.40    0.060988
          6  |     13.61    0.073466
          7  |     11.33    0.088254
          8  |     18.51    0.054023
-------------+----------------------
    Mean VIF |      7.57

. 
. // Check impact of removing region on collinearity 
. // check for collinearity between region and ethnicity
. regress fullvac i.sex i.birthord i.matagebirth3 i.delivery i.educ i.union i.motherhhd i.wealth i.religion i.ethnic2 i.rural, base

      Source |       SS           df       MS      Number of obs   =     3,929
-------------+----------------------------------   F(30, 3898)     =     11.18
       Model |  68.8122883        30  2.29374294   Prob > F        =    0.0000
    Residual |  799.695729     3,898  .205155395   R-squared       =    0.0792
-------------+----------------------------------   Adj R-squared   =    0.0721
       Total |  868.508017     3,928  .221106929   Root MSE        =    .45294

-----------------------------------------------------------------------------------
          fullvac |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          0  (base)
          Female  |   .0168663   .0145176     1.16   0.245    -.0115965    .0453291
                  |
         birthord |
               1  |          0  (base)
             2-3  |  -.0126048   .0220778    -0.57   0.568    -.0558898    .0306803
             4-5  |  -.0140802    .027612    -0.51   0.610    -.0682155    .0400551
              6+  |  -.0696373   .0326452    -2.13   0.033    -.1336406    -.005634
                  |
     matagebirth3 |
           10-19  |          0  (base)
           20-29  |   .0398015   .0253831     1.57   0.117    -.0099639    .0895668
             30+  |   .0298127   .0323142     0.92   0.356    -.0335416     .093167
                  |
         delivery |
            Home  |          0  (base)
Clinical setting  |   .0772611   .0177634     4.35   0.000     .0424347    .1120874
           Other  |     .14101   .0901915     1.56   0.118    -.0358171    .3178371
                  |
             educ |
    No education  |          0  (base)
         Primary  |    .108176    .024666     4.39   0.000     .0598165    .1565355
       Secondary  |   .1365003   .0310769     4.39   0.000     .0755717    .1974288
          Higher  |     .19865   .0419567     4.73   0.000     .1163909    .2809091
                  |
            union |
        Formerly  |          0  (base)
       Currently  |   .0406467   .0284591     1.43   0.153    -.0151493    .0964428
           Never  |   .0191731    .040653     0.47   0.637    -.0605301    .0988764
                  |
        motherhhd |
          Mother  |          0  (base)
           Other  |   .0077134   .0186698     0.41   0.680    -.0288902    .0443169
                  |
           wealth |
         Poorest  |          0  (base)
          Poorer  |   .0567091   .0226529     2.50   0.012     .0122964    .1011219
          Middle  |   .0894228   .0252444     3.54   0.000     .0399294    .1389162
          Richer  |   .0860127   .0276266     3.11   0.002     .0318489    .1401766
         Richest  |   .0539198   .0334969     1.61   0.108    -.0117533     .119593
                  |
         religion |
          Muslim  |          0  (base)
     No religion  |   .0105173   .0513373     0.20   0.838    -.0901333    .1111678
       Christian  |  -.0119532   .0286434    -0.42   0.676    -.0681106    .0442043
           Other  |  -.3068698   .1460874    -2.10   0.036    -.5932848   -.0204547
                  |
          ethnic2 |
          Somali  |          0  (base)
          Maasai  |   .0085144   .0547913     0.16   0.877     -.098908    .1159367
           Mbere  |   .0471491   .0964324     0.49   0.625    -.1419136    .2362119
             Luo  |  -.0037203   .0463538    -0.08   0.936    -.0946002    .0871596
        Kalenjin  |    .060872   .0447022     1.36   0.173    -.0267698    .1485139
           Luhya  |   .1090281   .0462205     2.36   0.018     .0184096    .1996467
           Kamba  |   .1453037   .0486896     2.98   0.003     .0498441    .2407633
          Kikuya  |   .1480723   .0462601     3.20   0.001      .057376    .2387686
           Other  |   .1586691   .0367132     4.32   0.000     .0866902     .230648
                  |
            rural |
           Rural  |          0  (base)
           Urban  |  -.0546029   .0189492    -2.88   0.004    -.0917541   -.0174517
                  |
            _cons |   .3497914    .046388     7.54   0.000     .2588444    .4407384
-----------------------------------------------------------------------------------

. estat vif

    Variable |       VIF       1/VIF  
-------------+----------------------
       2.sex |      1.01    0.992131
    birthord |
          2  |      2.20    0.454575
          3  |      2.48    0.402935
          4  |      3.00    0.333137
matagebirth3 |
          2  |      2.99    0.334455
          3  |      4.02    0.248473
    delivery |
          2  |      1.49    0.669839
          3  |      1.02    0.976476
        educ |
          2  |      2.91    0.344088
          3  |      2.92    0.342786
          4  |      1.97    0.507314
       union |
          2  |      1.86    0.538802
          3  |      1.93    0.516825
 2.motherhhd |      1.10    0.907089
      wealth |
          2  |      1.64    0.608540
          3  |      1.64    0.608574
          4  |      1.81    0.551603
          5  |      2.33    0.430081
    religion |
          2  |      1.36    0.734529
          3  |      2.51    0.398455
          4  |      1.04    0.963749
     ethnic2 |
          2  |      1.95    0.513226
          3  |      1.22    0.822750
          4  |      3.96    0.252430
          5  |      4.92    0.203061
          6  |      3.96    0.252320
          7  |      3.14    0.318156
          8  |      4.28    0.233841
          9  |      5.59    0.178888
     2.rural |      1.46    0.686451
-------------+----------------------
    Mean VIF |      2.46

. 
. // Check impact of removing ethnicity on collinearity 
. // check for collinearity between ethnicity and region
. regress fullvac i.sex i.birthord i.matagebirth3 i.delivery i.educ i.union i.motherhhd i.wealth i.religion i.rural i.region, base

      Source |       SS           df       MS      Number of obs   =     3,930
-------------+----------------------------------   F(29, 3900)     =     11.66
       Model |  69.2910605        29  2.38934691   Prob > F        =    0.0000
    Residual |  799.325733     3,900  .204955316   R-squared       =    0.0798
-------------+----------------------------------   Adj R-squared   =    0.0729
       Total |  868.616794     3,929  .221078339   Root MSE        =    .45272

-----------------------------------------------------------------------------------
          fullvac |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          0  (base)
          Female  |   .0152081   .0145077     1.05   0.295    -.0132354    .0436516
                  |
         birthord |
               1  |          0  (base)
             2-3  |  -.0133944   .0221195    -0.61   0.545    -.0567612    .0299724
             4-5  |  -.0155891   .0276801    -0.56   0.573    -.0698579    .0386797
              6+  |  -.0736258   .0327527    -2.25   0.025    -.1378398   -.0094118
                  |
     matagebirth3 |
           10-19  |          0  (base)
           20-29  |   .0443717   .0253432     1.75   0.080    -.0053154    .0940588
             30+  |   .0355118    .032258     1.10   0.271    -.0277324     .098756
                  |
         delivery |
            Home  |          0  (base)
Clinical setting  |   .0818235    .017779     4.60   0.000     .0469664    .1166806
           Other  |   .1213733   .0900817     1.35   0.178    -.0552384     .297985
                  |
             educ |
    No education  |          0  (base)
         Primary  |    .086661   .0240379     3.61   0.000      .039533    .1337891
       Secondary  |   .1236068   .0305892     4.04   0.000     .0636345    .1835791
          Higher  |   .1816832   .0413265     4.40   0.000     .1006596    .2627068
                  |
            union |
        Formerly  |          0  (base)
       Currently  |   .0303189   .0284816     1.06   0.287    -.0255214    .0861592
           Never  |   .0104076   .0406071     0.26   0.798    -.0692057    .0900208
                  |
        motherhhd |
          Mother  |          0  (base)
           Other  |   .0055909   .0186275     0.30   0.764    -.0309296    .0421114
                  |
           wealth |
         Poorest  |          0  (base)
          Poorer  |   .0586153   .0227716     2.57   0.010     .0139698    .1032607
          Middle  |   .0926668   .0252299     3.67   0.000     .0432018    .1421318
          Richer  |   .0957521   .0275403     3.48   0.001     .0417574    .1497468
         Richest  |    .075507   .0334646     2.26   0.024     .0098972    .1411168
                  |
         religion |
          Muslim  |          0  (base)
     No religion  |   .0061756   .0506317     0.12   0.903    -.0930915    .1054426
       Christian  |  -.0063473   .0300771    -0.21   0.833    -.0653157    .0526211
           Other  |  -.2764917   .1464778    -1.89   0.059    -.5636719    .0106886
                  |
            rural |
           Rural  |          0  (base)
           Urban  |   -.050296   .0190107    -2.65   0.008    -.0875678   -.0130242
                  |
           region |
   North eastern  |          0  (base)
         Nairobi  |   .0070854   .0616643     0.11   0.909    -.1138119    .1279827
     Rift Valley  |   .1105235   .0414499     2.67   0.008     .0292579     .191789
          Nyanza  |   .0710447   .0451859     1.57   0.116    -.0175455    .1596349
           Coast  |   .1968008   .0384111     5.12   0.000     .1214931    .2721085
         Western  |   .1817501   .0471196     3.86   0.000     .0893687    .2741315
         Central  |   .1307729    .049057     2.67   0.008     .0345931    .2269527
         Eastern  |   .2205795   .0410335     5.38   0.000     .1401304    .3010285
                  |
            _cons |   .3314815     .04653     7.12   0.000      .240256     .422707
-----------------------------------------------------------------------------------

. estat vif

    Variable |       VIF       1/VIF  
-------------+----------------------
       2.sex |      1.01    0.992276
    birthord |
          2  |      2.21    0.452350
          3  |      2.50    0.400197
          4  |      3.02    0.330614
matagebirth3 |
          2  |      2.98    0.335122
          3  |      4.01    0.249071
    delivery |
          2  |      1.50    0.667869
          3  |      1.02    0.977902
        educ |
          2  |      2.76    0.361850
          3  |      2.83    0.353438
          4  |      1.91    0.522385
       union |
          2  |      1.86    0.537402
          3  |      1.93    0.517479
 2.motherhhd |      1.10    0.910269
      wealth |
          2  |      1.66    0.601584
          3  |      1.64    0.608649
          4  |      1.80    0.554500
          5  |      2.32    0.430476
    religion |
          2  |      1.33    0.754403
          3  |      2.77    0.360998
          4  |      1.04    0.957684
     2.rural |      1.47    0.681276
      region |
          2  |      1.81    0.553077
          3  |      7.21    0.138720
          4  |      4.76    0.210294
          5  |      3.15    0.317785
          6  |      3.50    0.285854
          7  |      3.09    0.323232
          8  |      4.03    0.248337
-------------+----------------------
    Mean VIF |      2.49

. // remove ethnicity
. 
. // Check impact of removing ethnicity and religion on collinearity 
. // check for collinearity between religion and region
. regress fullvac i.sex i.birthord i.matagebirth3 i.delivery i.educ i.union i.motherhhd i.wealth i.rural i.region, base

      Source |       SS           df       MS      Number of obs   =     3,936
-------------+----------------------------------   F(26, 3909)     =     12.89
       Model |  68.6542479        26  2.64054799   Prob > F        =    0.0000
    Residual |  800.955254     3,909  .204900295   R-squared       =    0.0789
-------------+----------------------------------   Adj R-squared   =    0.0728
       Total |  869.609502     3,935   .22099352   Root MSE        =    .45266

-----------------------------------------------------------------------------------
          fullvac |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          0  (base)
          Female  |   .0151609   .0144896     1.05   0.295    -.0132471    .0435689
                  |
         birthord |
               1  |          0  (base)
             2-3  |  -.0141759   .0220707    -0.64   0.521    -.0574471    .0290953
             4-5  |  -.0169962   .0276214    -0.62   0.538      -.07115    .0371576
              6+  |  -.0736906   .0326358    -2.26   0.024    -.1376753   -.0097058
                  |
     matagebirth3 |
           10-19  |          0  (base)
           20-29  |   .0447215   .0252922     1.77   0.077    -.0048657    .0943087
             30+  |   .0370954   .0321282     1.15   0.248    -.0258942    .1000851
                  |
         delivery |
            Home  |          0  (base)
Clinical setting  |   .0816068   .0177547     4.60   0.000     .0467974    .1164162
           Other  |   .1225235   .0900521     1.36   0.174      -.05403     .299077
                  |
             educ |
    No education  |          0  (base)
         Primary  |   .0863108   .0235395     3.67   0.000       .04016    .1324616
       Secondary  |   .1246618   .0300685     4.15   0.000     .0657104    .1836132
          Higher  |   .1828196   .0409473     4.46   0.000     .1025395    .2630997
                  |
            union |
        Formerly  |          0  (base)
       Currently  |   .0309477   .0283897     1.09   0.276    -.0247124    .0866077
           Never  |   .0128285   .0404476     0.32   0.751    -.0664718    .0921288
                  |
        motherhhd |
          Mother  |          0  (base)
           Other  |    .006623   .0186019     0.36   0.722    -.0298473    .0430934
                  |
           wealth |
         Poorest  |          0  (base)
          Poorer  |   .0597986   .0226437     2.64   0.008      .015404    .1041932
          Middle  |   .0934309   .0251494     3.72   0.000     .0441238     .142738
          Richer  |   .0960022    .027442     3.50   0.000     .0422001    .1498042
         Richest  |   .0759073   .0334022     2.27   0.023     .0104199    .1413947
                  |
            rural |
           Rural  |          0  (base)
           Urban  |   -.050333   .0189272    -2.66   0.008    -.0874412   -.0132249
                  |
           region |
   North eastern  |          0  (base)
         Nairobi  |   .0004724   .0567549     0.01   0.993    -.1107997    .1117445
     Rift Valley  |   .1031938   .0325562     3.17   0.002     .0393651    .1670224
          Nyanza  |   .0650192    .037732     1.72   0.085    -.0089571    .1389956
           Coast  |   .1944381   .0362993     5.36   0.000     .1232708    .2656054
         Western  |   .1749153   .0403338     4.34   0.000     .0958381    .2539925
         Central  |   .1209163   .0425668     2.84   0.005     .0374611    .2043715
         Eastern  |   .2144285   .0356625     6.01   0.000     .1445097    .2843473
                  |
            _cons |   .3299153   .0464543     7.10   0.000     .2388383    .4209923
-----------------------------------------------------------------------------------

. estat vif

    Variable |       VIF       1/VIF  
-------------+----------------------
       2.sex |      1.01    0.993039
    birthord |
          2  |      2.21    0.453335
          3  |      2.49    0.401620
          4  |      3.00    0.332787
matagebirth3 |
          2  |      2.98    0.335962
          3  |      3.99    0.250732
    delivery |
          2  |      1.50    0.668624
          3  |      1.02    0.978273
        educ |
          2  |      2.66    0.376638
          3  |      2.74    0.364478
          4  |      1.89    0.529890
       union |
          2  |      1.86    0.538130
          3  |      1.93    0.517630
 2.motherhhd |      1.10    0.912160
      wealth |
          2  |      1.65    0.606924
          3  |      1.63    0.612210
          4  |      1.80    0.554952
          5  |      2.32    0.431878
     2.rural |      1.46    0.686331
      region |
          2  |      1.53    0.652697
          3  |      4.45    0.224641
          4  |      3.33    0.300078
          5  |      2.82    0.355057
          6  |      2.56    0.389967
          7  |      2.34    0.427759
          8  |      3.05    0.328125
-------------+----------------------
    Mean VIF |      2.28

. // remove ethnicity and religion
. 
. // Check impact of removing maternal age at birth on collinearity
. // check for collinearity between maternal age and birth order
. regress fullvac i.sex i.birthord i.delivery i.educ i.union i.motherhhd i.wealth i.rural i.region, base

      Source |       SS           df       MS      Number of obs   =     3,936
-------------+----------------------------------   F(24, 3911)     =     13.82
       Model |  67.9891323        24  2.83288051   Prob > F        =    0.0000
    Residual |   801.62037     3,911  .204965577   R-squared       =    0.0782
-------------+----------------------------------   Adj R-squared   =    0.0725
       Total |  869.609502     3,935   .22099352   Root MSE        =    .45273

-----------------------------------------------------------------------------------
          fullvac |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          0  (base)
          Female  |   .0157327   .0144884     1.09   0.278    -.0126729    .0441383
                  |
         birthord |
               1  |          0  (base)
             2-3  |  -.0005768   .0202697    -0.03   0.977     -.040317    .0391634
             4-5  |  -.0001264   .0238808    -0.01   0.996    -.0469464    .0466936
              6+  |  -.0588546   .0255977    -2.30   0.022    -.1090408   -.0086684
                  |
         delivery |
            Home  |          0  (base)
Clinical setting  |   .0821286   .0177466     4.63   0.000     .0473351     .116922
           Other  |   .1274299   .0900252     1.42   0.157    -.0490708    .3039306
                  |
             educ |
    No education  |          0  (base)
         Primary  |   .0843262   .0235021     3.59   0.000     .0382487    .1304036
       Secondary  |   .1266175   .0299664     4.23   0.000     .0678662    .1853687
          Higher  |   .1890193   .0404374     4.67   0.000     .1097389    .2682997
                  |
            union |
        Formerly  |          0  (base)
       Currently  |   .0311009   .0283642     1.10   0.273    -.0245092    .0867109
           Never  |   .0065186   .0402697     0.16   0.871     -.072433    .0854703
                  |
        motherhhd |
          Mother  |          0  (base)
           Other  |   .0060425   .0185289     0.33   0.744    -.0302848    .0423697
                  |
           wealth |
         Poorest  |          0  (base)
          Poorer  |   .0614341    .022624     2.72   0.007      .017078    .1057901
          Middle  |   .0946086   .0251073     3.77   0.000     .0453839    .1438332
          Richer  |   .0984038   .0273067     3.60   0.000     .0448671    .1519405
         Richest  |   .0781995   .0331843     2.36   0.018     .0131394    .1432596
                  |
            rural |
           Rural  |          0  (base)
           Urban  |  -.0502906   .0189236    -2.66   0.008    -.0873916   -.0131895
                  |
           region |
   North eastern  |          0  (base)
         Nairobi  |    .003536   .0567377     0.06   0.950    -.1077023    .1147743
     Rift Valley  |    .103365   .0325551     3.18   0.002     .0395383    .1671916
          Nyanza  |   .0632241   .0377147     1.68   0.094    -.0107183    .1371664
           Coast  |   .1948878   .0362731     5.37   0.000     .1237719    .2660038
         Western  |   .1744467   .0403333     4.33   0.000     .0953704     .253523
         Central  |   .1244138   .0424938     2.93   0.003     .0411017    .2077259
         Eastern  |   .2155301   .0356184     6.05   0.000     .1456977    .2853626
                  |
            _cons |   .3540009   .0444587     7.96   0.000     .2668364    .4411654
-----------------------------------------------------------------------------------

. estat vif

    Variable |       VIF       1/VIF  
-------------+----------------------
       2.sex |      1.01    0.993520
    birthord |
          2  |      1.86    0.537645
          3  |      1.86    0.537461
          4  |      1.85    0.541114
    delivery |
          2  |      1.49    0.669452
          3  |      1.02    0.979170
        educ |
          2  |      2.65    0.377959
          3  |      2.72    0.367083
          4  |      1.84    0.543510
       union |
          2  |      1.85    0.539271
          3  |      1.91    0.522379
 2.motherhhd |      1.09    0.919655
      wealth |
          2  |      1.64    0.608174
          3  |      1.63    0.614458
          4  |      1.78    0.560645
          5  |      2.28    0.437708
     2.rural |      1.46    0.686813
      region |
          2  |      1.53    0.653302
          3  |      4.45    0.224726
          4  |      3.33    0.300450
          5  |      2.81    0.355683
          6  |      2.56    0.390100
          7  |      2.33    0.429366
          8  |      3.04    0.329041
-------------+----------------------
    Mean VIF |      2.08

. // keep maternal age at birth
. 
. // Full test for collinearity
. collin sex birthord matagebirth3 delivery educ union motherhhd wealth religion ethnic2 rural region
(obs=3,929)

  Collinearity Diagnostics

                        SQRT                   R-
  Variable      VIF     VIF    Tolerance    Squared
----------------------------------------------------
       sex      1.00    1.00    0.9963      0.0037
  birthord      2.06    1.44    0.4843      0.5157
matagebirth3      1.79    1.34    0.5579      0.4421
  delivery      1.39    1.18    0.7181      0.2819
      educ      1.83    1.35    0.5479      0.4521
     union      1.06    1.03    0.9434      0.0566
 motherhhd      1.05    1.03    0.9507      0.0493
    wealth      2.00    1.42    0.4994      0.5006
  religion      1.23    1.11    0.8158      0.1842
   ethnic2      1.48    1.22    0.6759      0.3241
     rural      1.37    1.17    0.7315      0.2685
    region      1.48    1.22    0.6763      0.3237
----------------------------------------------------
  Mean VIF      1.48

                           Cond
        Eigenval          Index
---------------------------------
    1    11.7863          1.0000
    2     0.3468          5.8294
    3     0.2298          7.1613
    4     0.1345          9.3611
    5     0.1027         10.7143
    6     0.0862         11.6942
    7     0.0719         12.8020
    8     0.0607         13.9371
    9     0.0577         14.2861
    10     0.0496         15.4117
    11     0.0341         18.6018
    12     0.0320         19.1773
    13     0.0076         39.4434
---------------------------------
 Condition Number        39.4434 
 Eigenvalues & Cond Index computed from scaled raw sscp (w/ intercept)
 Det(correlation matrix)    0.0896

. // -----------------------------------------------------------------------------
. 
. // *****************************************************************************
. // Final regression model, with all variables (except ethnicity, religion)
. // table column: Adjusted odds ratio (AOR and 95% CI) + p-value
. svy: logistic fullvac i.sex i.birthord i.matagebirth3 i.delivery i.educ i.union i.motherhhd i.wealth i.rural i.region, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
                                                Design df         =      1,297
                                                F(  26,   1272)   =       7.05
                                                Prob > F          =     0.0000

-----------------------------------------------------------------------------------
                  |             Linearized
          fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          1  (base)
          Female  |   1.027648    .092828     0.30   0.763     .8607624    1.226891
                  |
         birthord |
               1  |          1  (base)
             2-3  |   1.078346   .1772922     0.46   0.646     .7810524    1.488798
             4-5  |   1.050334   .2011211     0.26   0.798     .7214142    1.529221
              6+  |   .6254527   .1511017    -1.94   0.052     .3893701    1.004677
                  |
     matagebirth3 |
           10-19  |          1  (base)
           20-29  |    1.20246   .2021576     1.10   0.273     .8646356    1.672278
             30+  |   1.219025   .2836859     0.85   0.395     .7722176    1.924355
                  |
         delivery |
            Home  |          1  (base)
Clinical setting  |   1.411221    .164269     2.96   0.003     1.123106    1.773246
           Other  |   1.614033   .8443405     0.92   0.360      .578378     4.50415
                  |
             educ |
    No education  |          1  (base)
         Primary  |   1.543787   .2567238     2.61   0.009      1.11405    2.139292
       Secondary  |   1.729543   .3594621     2.64   0.008     1.150418    2.600204
          Higher  |   2.370419   .7857347     2.60   0.009     1.237113    4.541933
                  |
            union |
        Formerly  |          1  (base)
       Currently  |   1.343369   .2850333     1.39   0.164     .8859727    2.036902
           Never  |   1.227909   .3510623     0.72   0.473     .7007745    2.151564
                  |
        motherhhd |
          Mother  |          1  (base)
           Other  |   .9259752   .1160028    -0.61   0.539     .7242097    1.183953
                  |
           wealth |
         Poorest  |          1  (base)
          Poorer  |    1.25346   .1806693     1.57   0.117     .9447277    1.663084
          Middle  |   1.431592   .2198529     2.34   0.020     1.059195    1.934917
          Richer  |    1.57449   .2962928     2.41   0.016     1.088449    2.277568
         Richest  |   1.520955   .3554088     1.79   0.073     .9616702    2.405506
                  |
            rural |
           Rural  |          1  (base)
           Urban  |   .7375665   .0872497    -2.57   0.010     .5848104    .9302233
                  |
           region |
   North eastern  |          1  (base)
         Nairobi  |   .8122559   .2812683    -0.60   0.548      .411778    1.602222
     Rift Valley  |   1.390984   .2711518     1.69   0.091     .9489386    2.038949
          Nyanza  |   1.144801   .2520391     0.61   0.539     .7432838    1.763216
           Coast  |   2.346472   .5147559     3.89   0.000      1.52584    3.608457
         Western  |   1.757834   .4126496     2.40   0.016     1.109105    2.786013
         Central  |   1.741244   .4481678     2.15   0.031      1.05092    2.885025
         Eastern  |   2.330467    .565648     3.49   0.001     1.447596     3.75179
                  |
            _cons |   .4680505   .1449413    -2.45   0.014     .2549498    .8592721
-----------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. // *****************************************************************************
. 
. // -----------------------------------------------------------------------------
. // Tests for effect modification
. ** Check sample sizes in each category
. tab matagebirth3 educ, col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

  Maternal |
    age at |             Maternal education
     birth | No educat    Primary  Secondary     Higher |     Total
-----------+--------------------------------------------+----------
     10-19 |        76        329        114          6 |       525 
           |      8.89      15.93      14.69       2.43 |     13.31 
-----------+--------------------------------------------+----------
     20-29 |       517      1,154        497        152 |     2,320 
           |     60.47      55.88      64.05      61.54 |     58.84 
-----------+--------------------------------------------+----------
       30+ |       262        582        165         89 |     1,098 
           |     30.64      28.18      21.26      36.03 |     27.85 
-----------+--------------------------------------------+----------
     Total |       855      2,065        776        247 |     3,943 
           |    100.00     100.00     100.00     100.00 |    100.00 

. tab wealth matagebirth3, col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Wealth |      Maternal age at birth
     index |     10-19      20-29        30+ |     Total
-----------+---------------------------------+----------
   Poorest |       194        808        410 |     1,412 
           |     36.95      34.83      37.34 |     35.81 
-----------+---------------------------------+----------
    Poorer |       125        507        207 |       839 
           |     23.81      21.85      18.85 |     21.28 
-----------+---------------------------------+----------
    Middle |        97        368        166 |       631 
           |     18.48      15.86      15.12 |     16.00 
-----------+---------------------------------+----------
    Richer |        70        344        161 |       575 
           |     13.33      14.83      14.66 |     14.58 
-----------+---------------------------------+----------
   Richest |        39        293        154 |       486 
           |      7.43      12.63      14.03 |     12.33 
-----------+---------------------------------+----------
     Total |       525      2,320      1,098 |     3,943 
           |    100.00     100.00     100.00 |    100.00 

. tab wealth educ, col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Wealth |             Maternal education
     index | No educat    Primary  Secondary     Higher |     Total
-----------+--------------------------------------------+----------
   Poorest |       712        640         58          2 |     1,412 
           |     83.27      30.99       7.47       0.81 |     35.81 
-----------+--------------------------------------------+----------
    Poorer |        45        638        143         13 |       839 
           |      5.26      30.90      18.43       5.26 |     21.28 
-----------+--------------------------------------------+----------
    Middle |        29        380        195         27 |       631 
           |      3.39      18.40      25.13      10.93 |     16.00 
-----------+--------------------------------------------+----------
    Richer |        39        255        221         60 |       575 
           |      4.56      12.35      28.48      24.29 |     14.58 
-----------+--------------------------------------------+----------
   Richest |        30        152        159        145 |       486 
           |      3.51       7.36      20.49      58.70 |     12.33 
-----------+--------------------------------------------+----------
     Total |       855      2,065        776        247 |     3,943 
           |    100.00     100.00     100.00     100.00 |    100.00 

. tab wealth rural, col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    Wealth |      Rural-Urban
     index |     Rural      Urban |     Total
-----------+----------------------+----------
   Poorest |     1,235        177 |     1,412 
           |     45.02      14.75 |     35.81 
-----------+----------------------+----------
    Poorer |       671        168 |       839 
           |     24.46      14.00 |     21.28 
-----------+----------------------+----------
    Middle |       479        152 |       631 
           |     17.46      12.67 |     16.00 
-----------+----------------------+----------
    Richer |       299        276 |       575 
           |     10.90      23.00 |     14.58 
-----------+----------------------+----------
   Richest |        59        427 |       486 
           |      2.15      35.58 |     12.33 
-----------+----------------------+----------
     Total |     2,743      1,200 |     3,943 
           |    100.00     100.00 |    100.00 

. tab rural delivery, col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

Rural-Urba |         Delivery setting
         n |      Home  Clinical       Other |     Total
-----------+---------------------------------+----------
     Rural |     1,460      1,259         19 |     2,738 
           |     84.59      57.65      73.08 |     69.56 
-----------+---------------------------------+----------
     Urban |       266        925          7 |     1,198 
           |     15.41      42.35      26.92 |     30.44 
-----------+---------------------------------+----------
     Total |     1,726      2,184         26 |     3,936 
           |    100.00     100.00     100.00 |    100.00 

. 
. ** Recode education to be binary variable
. gen educbin=educ

. recode educbin 1=1 2/4=2
(educbin: 1023 changes made)

. label var educbin "Education - Binary"

. label define labeducbin 1 "None" 2 "Some"

. label value educbin labeducbin

. tab educbin educ

 Education |             Maternal education
  - Binary | No educat    Primary  Secondary     Higher |     Total
-----------+--------------------------------------------+----------
      None |       855          0          0          0 |       855 
      Some |         0      2,065        776        247 |     3,088 
-----------+--------------------------------------------+----------
     Total |       855      2,065        776        247 |     3,943 

. 
. * Test for interaction -- Maternal age at birth and maternal education
. svy: logistic fullvac i.sex i.birthord i.matagebirth3##i.educbin i.delivery i.union i.motherhhd i.wealth i.rural i.region, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
                                                Design df         =      1,297
                                                F(  26,   1272)   =       6.93
                                                Prob > F          =     0.0000

--------------------------------------------------------------------------------------
                     |             Linearized
             fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------+----------------------------------------------------------------
                 sex |
               Male  |          1  (base)
             Female  |   1.021532   .0921544     0.24   0.813     .8558387    1.219305
                     |
            birthord |
                  1  |          1  (base)
                2-3  |   1.005299     .16941     0.03   0.975     .7223031    1.399173
                4-5  |   .9546708   .1862443    -0.24   0.812     .6510882    1.399805
                 6+  |   .5589455    .134584    -2.42   0.016     .3485171    .8964271
                     |
        matagebirth3 |
              10-19  |          1  (base)
              20-29  |   1.084163   .3256032     0.27   0.788     .6014744    1.954214
                30+  |   1.099279   .3856731     0.27   0.787     .5523211    2.187882
                     |
             educbin |
               None  |          1  (base)
               Some  |   1.320373   .4160213     0.88   0.378     .7116239    2.449867
                     |
matagebirth3#educbin |
         20-29#Some  |   1.197544   .3934478     0.55   0.583     .6285963    2.281451
           30+#Some  |   1.241592   .4493457     0.60   0.550     .6104247    2.525374
                     |
            delivery |
               Home  |          1  (base)
   Clinical setting  |   1.430294   .1668658     3.07   0.002     1.137698    1.798142
              Other  |   1.594473   .8402703     0.89   0.376     .5670533    4.483429
                     |
               union |
           Formerly  |          1  (base)
          Currently  |   1.355716    .280672     1.47   0.142     .9031942    2.034963
              Never  |   1.234127   .3471376     0.75   0.455     .7107365    2.142945
                     |
           motherhhd |
             Mother  |          1  (base)
              Other  |   .9058219   .1114514    -0.80   0.422     .7115641    1.153112
                     |
              wealth |
            Poorest  |          1  (base)
             Poorer  |     1.2488   .1800175     1.54   0.123     .9411862    1.656953
             Middle  |   1.458764   .2236964     2.46   0.014     1.079777    1.970769
             Richer  |   1.636429   .2973553     2.71   0.007     1.145726    2.337294
            Richest  |   1.702597   .3837594     2.36   0.018     1.094145    2.649409
                     |
               rural |
              Rural  |          1  (base)
              Urban  |   .7356161   .0871096    -2.59   0.010      .583123    .9279878
                     |
              region |
      North eastern  |          1  (base)
            Nairobi  |   .8055125   .2722106    -0.64   0.522     .4151003    1.563117
        Rift Valley  |   1.415605   .2748311     1.79   0.074     .9672355     2.07182
             Nyanza  |   1.177775   .2576247     0.75   0.455     .7668281    1.808951
              Coast  |   2.315943   .5065247     3.84   0.000     1.507946    3.556885
            Western  |   1.783453   .4179086     2.47   0.014     1.126204     2.82427
            Central  |   1.763523   .4541512     2.20   0.028     1.064072    2.922749
            Eastern  |   2.331973   .5659125     3.49   0.001     1.448655    3.753896
                     |
               _cons |   .5557004   .1999423    -1.63   0.103     .2743408    1.125618
--------------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. contrast matagebirth3##educbin

Contrasts of marginal linear predictions

                                                Design df         =      1,297

Margins      : asbalanced

--------------------------------------------------------
                     |         df           F        P>F
---------------------+----------------------------------
        matagebirth3 |          2        0.47     0.6236
                     |
             educbin |          1        5.44     0.0199
                     |
matagebirth3#educbin |          2        0.19     0.8246
              Design |       1297
--------------------------------------------------------
Note: F statistics are adjusted for the survey design.

. margins matagebirth3##educbin

Predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

--------------------------------------------------------------------------------------
                     |            Delta-method
                     |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------+----------------------------------------------------------------
        matagebirth3 |
              10-19  |   .6368764   .0322284    19.76   0.000      .573651    .7001019
              20-29  |   .6865282   .0156802    43.78   0.000     .6557669    .7172895
                30+  |   .6954888   .0246055    28.27   0.000     .6472177    .7437598
                     |
             educbin |
               None  |   .5992319   .0341987    17.52   0.000      .532141    .6663228
               Some  |   .6946824   .0118736    58.51   0.000     .6713889     .717976
                     |
matagebirth3#educbin |
         10-19#None  |   .5824004   .0665134     8.76   0.000     .4519146    .7128861
         10-19#Some  |   .6445785   .0347617    18.54   0.000     .5763831    .7127739
         20-29#None  |   .6008355   .0392012    15.33   0.000     .5239308    .6777402
         20-29#Some  |    .699047   .0171727    40.71   0.000     .6653578    .7327362
           30+#None  |   .6039683   .0524528    11.51   0.000     .5010667    .7068699
           30+#Some  |   .7089381   .0259899    27.28   0.000     .6579512    .7599249
--------------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: matagebirth3 educbin

. margins r.educbin@matagebirth3

Contrasts of predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

---------------------------------------------------------
                      |         df           F        P>F
----------------------+----------------------------------
 educbin@matagebirth3 |
(Some vs None) 10-19  |          1        0.75     0.3857
(Some vs None) 20-29  |          1        5.28     0.0218
  (Some vs None) 30+  |          1        3.81     0.0510
               Joint  |          3        2.30     0.0756
               Design |       1297
---------------------------------------------------------
Note: F statistics are adjusted for the survey design.

-----------------------------------------------------------------------
                      |            Delta-method
                      |   Contrast   Std. Err.     [95% Conf. Interval]
----------------------+------------------------------------------------
 educbin@matagebirth3 |
(Some vs None) 10-19  |   .0621781   .0716566     -.0783974    .2027536
(Some vs None) 20-29  |   .0982115   .0427595       .014326    .1820969
  (Some vs None) 30+  |   .1049698   .0537467     -.0004701    .2104097
-----------------------------------------------------------------------

. marginsplot, yline(0)

  Variables that uniquely identify margins: matagebirth3

. 
. * Test for interaction -- Household wealth and maternal age at birth
. svy: logistic fullvac i.sex i.birthord i.delivery i.educ i.union i.motherhhd i.wealth##i.matagebirth3 i.rural i.region, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
                                                Design df         =      1,297
                                                F(  34,   1264)   =       5.72
                                                Prob > F          =     0.0000

-------------------------------------------------------------------------------------
                    |             Linearized
            fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
                sex |
              Male  |          1  (base)
            Female  |   1.021381   .0927402     0.23   0.816     .8547267    1.220528
                    |
           birthord |
                 1  |          1  (base)
               2-3  |   1.093487   .1815626     0.54   0.590     .7894928    1.514535
               4-5  |   1.058158   .2070116     0.29   0.773      .720893    1.553209
                6+  |   .6144605     .14857    -2.01   0.044     .3823757    .9874103
                    |
           delivery |
              Home  |          1  (base)
  Clinical setting  |   1.412677   .1647904     2.96   0.003     1.123715    1.775944
             Other  |   1.622499   .8475401     0.93   0.354     .5822766    4.521051
                    |
               educ |
      No education  |          1  (base)
           Primary  |   1.543762   .2559989     2.62   0.009     1.115053    2.137299
         Secondary  |   1.743911   .3619035     2.68   0.007     1.160686    2.620199
            Higher  |   2.436011   .8230315     2.64   0.009     1.255519     4.72645
                    |
              union |
          Formerly  |          1  (base)
         Currently  |   1.340653   .2799776     1.40   0.161     .8899959    2.019503
             Never  |   1.276514   .3674646     0.85   0.397     .7257133    2.245361
                    |
          motherhhd |
            Mother  |          1  (base)
             Other  |   .9247633   .1148141    -0.63   0.529     .7248545    1.179805
                    |
             wealth |
           Poorest  |          1  (base)
            Poorer  |    1.35813   .4207726     0.99   0.323     .7395676    2.494049
            Middle  |    .899452   .3199679    -0.30   0.766     .4476017    1.807442
            Richer  |   1.275921   .5230499     0.59   0.552     .5708964    2.851613
           Richest  |   1.976432   1.199208     1.12   0.262     .6010759    6.498817
                    |
       matagebirth3 |
             10-19  |          1  (base)
             20-29  |   1.113539   .2966787     0.40   0.687     .6602514    1.878027
               30+  |   1.106695   .3623301     0.31   0.757     .5822181    2.103634
                    |
wealth#matagebirth3 |
      Poorer#20-29  |   .8472511    .303515    -0.46   0.644      .419563     1.71091
        Poorer#30+  |   1.046242   .3875725     0.12   0.903     .5058441    2.163954
      Middle#20-29  |   1.624604   .6233412     1.26   0.206     .7653261    3.448645
        Middle#30+  |   1.965818   .9290503     1.43   0.153     .7778356    4.968198
      Richer#20-29  |   1.285465   .5913266     0.55   0.585     .5213549    3.169473
        Richer#30+  |   1.220413   .5937776     0.41   0.682     .4698705    3.169828
     Richest#20-29  |   .7904285   .5350045    -0.35   0.728     .2095007     2.98222
       Richest#30+  |   .6663092    .462061    -0.59   0.558     .1709415    2.597193
                    |
              rural |
             Rural  |          1  (base)
             Urban  |   .7362653   .0876618    -2.57   0.010      .582899    .9299839
                    |
             region |
     North eastern  |          1  (base)
           Nairobi  |   .8041212   .2763082    -0.63   0.526     .4097912    1.577903
       Rift Valley  |   1.381801   .2689957     1.66   0.097     .9431631    2.024435
            Nyanza  |   1.152393   .2536219     0.64   0.519     .7483258    1.774641
             Coast  |   2.337521   .5123141     3.87   0.000      1.52063    3.593251
           Western  |   1.732245   .4102497     2.32   0.021     1.088503    2.756695
           Central  |   1.710831   .4403826     2.09   0.037     1.032513    2.834773
           Eastern  |   2.347173   .5669527     3.53   0.000     1.461329    3.770009
                    |
              _cons |   .5054153   .1632354    -2.11   0.035      .268211    .9524016
-------------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. contrast wealth##matagebirth3

Contrasts of marginal linear predictions

                                                Design df         =      1,297

Margins      : asbalanced

-------------------------------------------------------
                    |         df           F        P>F
--------------------+----------------------------------
             wealth |          4        1.39     0.2341
                    |
       matagebirth3 |          2        0.46     0.6285
                    |
wealth#matagebirth3 |          8        0.62     0.7579
             Design |       1297
-------------------------------------------------------
Note: F statistics are adjusted for the survey design.

. margins wealth##matagebirth3

Predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

-------------------------------------------------------------------------------------
                    |            Delta-method
                    |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
             wealth |
           Poorest  |   .6281391   .0252617    24.87   0.000     .5785808    .6776974
            Poorer  |   .6749648   .0227857    29.62   0.000      .630264    .7196656
            Middle  |   .7033791   .0246018    28.59   0.000     .6551154    .7516429
            Richer  |   .7200063   .0252098    28.56   0.000     .6705497    .7694628
           Richest  |   .7166745     .03384    21.18   0.000     .6502873    .7830617
                    |
       matagebirth3 |
             10-19  |   .6525249   .0348244    18.74   0.000     .5842065    .7208432
             20-29  |   .6857646   .0153141    44.78   0.000     .6557214    .7158077
               30+  |   .6913185   .0238073    29.04   0.000     .6446134    .7380236
                    |
wealth#matagebirth3 |
     Poorest#10-19  |   .6078123   .0563259    10.79   0.000     .4973126    .7183121
     Poorest#20-29  |   .6316618   .0296953    21.27   0.000     .5734058    .6899178
       Poorest#30+  |     .63031   .0428725    14.70   0.000     .5462028    .7144171
      Poorer#10-19  |   .6740445   .0499048    13.51   0.000     .5761416    .7719475
      Poorer#20-29  |   .6618644   .0313075    21.14   0.000     .6004456    .7232832
        Poorer#30+  |   .7037087   .0381706    18.44   0.000     .6288259    .7785915
      Middle#10-19  |   .5838146   .0647484     9.02   0.000     .4567914    .7108377
      Middle#20-29  |   .7103995   .0326322    21.77   0.000     .6463818    .7744172
        Middle#30+  |   .7450102   .0400065    18.62   0.000     .6665257    .8234947
      Richer#10-19  |   .6609719   .0756422     8.74   0.000     .5125774    .8093665
      Richer#20-29  |   .7323786   .0330821    22.14   0.000     .6674783    .7972789
        Richer#30+  |   .7214503   .0486478    14.83   0.000     .6260134    .8168873
     Richest#10-19  |   .7468054   .0989934     7.54   0.000     .5526006    .9410101
     Richest#20-29  |   .7232401   .0471403    15.34   0.000     .6307605    .8157197
       Richest#30+  |   .6885098   .0671042    10.26   0.000     .5568652    .8201545
-------------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: wealth matagebirth3

. margins r.matagebirth3@wealth

Contrasts of predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

-------------------------------------------------------------
                          |         df           F        P>F
--------------------------+----------------------------------
      matagebirth3@wealth |
(20-29 vs 10-19) Poorest  |          1        0.16     0.6884
 (20-29 vs 10-19) Poorer  |          1        0.04     0.8447
 (20-29 vs 10-19) Middle  |          1        3.44     0.0638
 (20-29 vs 10-19) Richer  |          1        0.79     0.3736
(20-29 vs 10-19) Richest  |          1        0.04     0.8362
  (30+ vs 10-19) Poorest  |          1        0.10     0.7572
   (30+ vs 10-19) Poorer  |          1        0.21     0.6476
   (30+ vs 10-19) Middle  |          1        4.43     0.0354
   (30+ vs 10-19) Richer  |          1        0.43     0.5127
  (30+ vs 10-19) Richest  |          1        0.24     0.6240
                   Joint  |         10        0.74     0.6899
                   Design |       1297
-------------------------------------------------------------
Note: F statistics are adjusted for the survey design.

---------------------------------------------------------------------------
                          |            Delta-method
                          |   Contrast   Std. Err.     [95% Conf. Interval]
--------------------------+------------------------------------------------
      matagebirth3@wealth |
(20-29 vs 10-19) Poorest  |   .0238495   .0594673     -.0928132    .1405122
 (20-29 vs 10-19) Poorer  |  -.0121802   .0621664     -.1341379    .1097776
 (20-29 vs 10-19) Middle  |   .1265849   .0682378     -.0072837    .2604535
 (20-29 vs 10-19) Richer  |   .0714067   .0802284     -.0859849    .2287983
(20-29 vs 10-19) Richest  |  -.0235653   .1139571     -.2471257    .1999952
  (30+ vs 10-19) Poorest  |   .0224977   .0727553     -.1202332    .1652285
   (30+ vs 10-19) Poorer  |   .0296642   .0648769      -.097611    .1569393
   (30+ vs 10-19) Middle  |   .1611956    .076544      .0110321    .3113592
   (30+ vs 10-19) Richer  |   .0604784   .0923664     -.1207255    .2416824
  (30+ vs 10-19) Richest  |  -.0582955     .11891     -.2915725    .1749815
---------------------------------------------------------------------------

. marginsplot, yline(0)

  Variables that uniquely identify margins: matagebirth3 wealth

. 
. * Test for interaction -- Household wealth and maternal education
. svy: logistic fullvac i.sex i.birthord i.matagebirth3 i.delivery i.union i.motherhhd i.wealth##i.educbin i.rural i.region, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
                                                Design df         =      1,297
                                                F(  28,   1270)   =       6.86
                                                Prob > F          =     0.0000

-----------------------------------------------------------------------------------
                  |             Linearized
          fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          1  (base)
          Female  |   1.022363   .0918753     0.25   0.806     .8571166    1.219468
                  |
         birthord |
               1  |          1  (base)
             2-3  |   1.015331   .1715649     0.09   0.928     .7288563    1.414403
             4-5  |   .9587192   .1878274    -0.22   0.830     .6527886    1.408025
              6+  |    .565604   .1374443    -2.35   0.019     .3511345    .9110693
                  |
     matagebirth3 |
           10-19  |          1  (base)
           20-29  |    1.27196   .2074986     1.47   0.141     .9236018     1.75171
             30+  |   1.320663   .2952455     1.24   0.214     .8517675    2.047685
                  |
         delivery |
            Home  |          1  (base)
Clinical setting  |   1.437987   .1675237     3.12   0.002     1.144191    1.807222
           Other  |   1.569341   .8241555     0.86   0.391     .5601223    4.396956
                  |
            union |
        Formerly  |          1  (base)
       Currently  |   1.361383   .2832218     1.48   0.138     .9051718    2.047526
           Never  |   1.240402   .3484659     0.77   0.443     .7148443    2.152354
                  |
        motherhhd |
          Mother  |          1  (base)
           Other  |   .9058522   .1110982    -0.81   0.420     .7121382     1.15226
                  |
           wealth |
         Poorest  |          1  (base)
          Poorer  |   1.227891   .5458844     0.46   0.644     .5133183    2.937194
          Middle  |   3.765751   1.660561     3.01   0.003     1.585446    8.944406
          Richer  |   .8403302    .413666    -0.35   0.724     .3199197    2.207288
         Richest  |   1.232104   .8315369     0.31   0.757     .3278247    4.630767
                  |
          educbin |
            None  |          1  (base)
            Some  |   1.532122   .2805246     2.33   0.020     1.069785     2.19427
                  |
   wealth#educbin |
     Poorer#Some  |   1.025922   .4775256     0.05   0.956     .4116654    2.556729
     Middle#Some  |   .3803065   .1771512    -2.08   0.038     .1524979    .9484265
     Richer#Some  |   2.031462   1.027771     1.40   0.161     .7529407     5.48096
    Richest#Some  |   1.419459   .9856118     0.50   0.614     .3635239    5.542592
                  |
            rural |
           Rural  |          1  (base)
           Urban  |   .7374869   .0886941    -2.53   0.011     .5824903    .9337272
                  |
           region |
   North eastern  |          1  (base)
         Nairobi  |   .7878324    .268573    -0.70   0.484     .4036335    1.537732
     Rift Valley  |   1.393312   .2686455     1.72   0.086     .9544965    2.033867
          Nyanza  |   1.166333   .2536651     0.71   0.479     .7612416    1.786993
           Coast  |   2.297666   .4980354     3.84   0.000     1.501795    3.515307
         Western  |   1.780537    .413842     2.48   0.013     1.128562    2.809162
         Central  |   1.734151   .4476581     2.13   0.033     1.045082    2.877554
         Eastern  |   2.324076    .558738     3.51   0.000     1.450171    3.724615
                  |
            _cons |   .4819384   .1515468    -2.32   0.020     .2600633    .8931082
-----------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. contrast wealth##educbin

Contrasts of marginal linear predictions

                                                Design df         =      1,297

Margins      : asbalanced

--------------------------------------------------
               |         df           F        P>F
---------------+----------------------------------
        wealth |          4        3.31     0.0105
               |
       educbin |          1        3.85     0.0500
               |
wealth#educbin |          4        1.79     0.1289
        Design |       1297
--------------------------------------------------
Note: F statistics are adjusted for the survey
      design.

. margins wealth##educbin

Predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

--------------------------------------------------------------------------------
               |            Delta-method
               |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
        wealth |
      Poorest  |   .6182507   .0253054    24.43   0.000     .5686067    .6678947
       Poorer  |   .6676068   .0228658    29.20   0.000     .6227488    .7124647
       Middle  |   .7179314   .0237226    30.26   0.000     .6713925    .7644703
       Richer  |   .7093836   .0256696    27.64   0.000     .6590252     .759742
      Richest  |   .7239275   .0344239    21.03   0.000     .6563949    .7914601
               |
       educbin |
         None  |   .5905513   .0463307    12.75   0.000     .4996599    .6814426
         Some  |   .6944375   .0118539    58.58   0.000     .6711826    .7176923
               |
wealth#educbin |
 Poorest#None  |   .5315255   .0386888    13.74   0.000      .455626    .6074249
 Poorest#Some  |   .6300462   .0273054    23.07   0.000     .5764786    .6836139
  Poorer#None  |   .5797143   .1000811     5.79   0.000     .3833756    .7760529
  Poorer#Some  |   .6797756   .0219972    30.90   0.000     .6366216    .7229296
  Middle#None  |   .8013203   .0661944    12.11   0.000     .6714606    .9311801
  Middle#Some  |   .7058704     .02507    28.16   0.000     .6566882    .7550525
  Richer#None  |   .4901938   .1146086     4.28   0.000     .2653552    .7150325
  Richer#Some  |   .7395671   .0245928    30.07   0.000     .6913211    .7878131
 Richest#None  |   .5805084   .1535726     3.78   0.000     .2792304    .8817863
 Richest#Some  |   .7440166   .0330314    22.52   0.000     .6792158    .8088174
--------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: wealth educbin

. margins r.educbin@wealth

Contrasts of predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

-----------------------------------------------------------
                        |         df           F        P>F
------------------------+----------------------------------
         educbin@wealth |
(Some vs None) Poorest  |          1        5.37     0.0207
 (Some vs None) Poorer  |          1        0.96     0.3272
 (Some vs None) Middle  |          1        1.84     0.1750
 (Some vs None) Richer  |          1        4.58     0.0326
(Some vs None) Richest  |          1        1.09     0.2974
                 Joint  |          5        2.53     0.0276
                 Design |       1297
-----------------------------------------------------------
Note: F statistics are adjusted for the survey design.

-------------------------------------------------------------------------
                        |            Delta-method
                        |   Contrast   Std. Err.     [95% Conf. Interval]
------------------------+------------------------------------------------
         educbin@wealth |
(Some vs None) Poorest  |   .0985208   .0425238      .0150978    .1819438
 (Some vs None) Poorer  |   .1000614   .1020983     -.1002346    .3003573
 (Some vs None) Middle  |    -.09545   .0703335     -.2334298    .0425299
 (Some vs None) Richer  |   .2493732   .1165549      .0207164    .4780301
(Some vs None) Richest  |   .1635082   .1568521     -.1442034    .4712198
-------------------------------------------------------------------------

. marginsplot, yline(0)

  Variables that uniquely identify margins: wealth

. 
. * Test for interaction -- Household wealth and place of residence
. svy: logistic fullvac i.sex i.birthord i.matagebirth3 i.delivery i.educ i.union i.motherhhd i.wealth##i.rural i.region, base
(running logistic on estimation sample)

Survey: Logistic regression

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
                                                Design df         =      1,297
                                                F(  30,   1268)   =       6.08
                                                Prob > F          =     0.0000

-----------------------------------------------------------------------------------
                  |             Linearized
          fullvac | Odds Ratio   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              sex |
            Male  |          1  (base)
          Female  |    1.03034   .0932238     0.33   0.741     .8627656    1.230461
                  |
         birthord |
               1  |          1  (base)
             2-3  |   1.074333   .1768876     0.44   0.663     .7777838     1.48395
             4-5  |   1.044682   .1993767     0.23   0.819     .7184246    1.519102
              6+  |    .623112   .1507006    -1.96   0.051     .3877121    1.001435
                  |
     matagebirth3 |
           10-19  |          1  (base)
           20-29  |   1.200037   .2021691     1.08   0.279     .8623028    1.670051
             30+  |    1.20854   .2815811     0.81   0.416     .7651598    1.908843
                  |
         delivery |
            Home  |          1  (base)
Clinical setting  |   1.410452   .1647455     2.94   0.003      1.12161    1.773676
           Other  |   1.603216   .8269024     0.92   0.360     .5828429    4.409939
                  |
             educ |
    No education  |          1  (base)
         Primary  |   1.526426   .2550722     2.53   0.011     1.099774    2.118595
       Secondary  |   1.686351   .3524711     2.50   0.013       1.1191    2.541132
          Higher  |   2.343767   .7824344     2.55   0.011     1.217551    4.511716
                  |
            union |
        Formerly  |          1  (base)
       Currently  |   1.371258   .2881749     1.50   0.133     .9079648    2.070949
           Never  |   1.217821   .3458528     0.69   0.488     .6976253    2.125909
                  |
        motherhhd |
          Mother  |          1  (base)
           Other  |   .9286226   .1162741    -0.59   0.554     .7263729    1.187186
                  |
           wealth |
         Poorest  |          1  (base)
          Poorer  |   1.315214   .2050562     1.76   0.079     .9686362    1.785796
          Middle  |    1.42639   .2368175     2.14   0.033     1.029876    1.975567
          Richer  |   1.905067   .4669217     2.63   0.009     1.177851    3.081272
         Richest  |   3.359954   1.735261     2.35   0.019     1.219879     9.25444
                  |
            rural |
           Rural  |          1  (base)
           Urban  |   1.094843   .2679447     0.37   0.711     .6773911    1.769554
                  |
     wealth#rural |
    Poorer#Urban  |   .6782539   .2200141    -1.20   0.232     .3589377    1.281639
    Middle#Urban  |   .8386354   .3188445    -0.46   0.644     .3977854    1.768062
    Richer#Urban  |   .5113838   .1878341    -1.83   0.068     .2487733    1.051211
   Richest#Urban  |   .2961816   .1711144    -2.11   0.035      .095352    .9199964
                  |
           region |
   North eastern  |          1  (base)
         Nairobi  |   .8630608   .3002016    -0.42   0.672     .4362026    1.707633
     Rift Valley  |   1.379446    .269066     1.65   0.099     .9408488    2.022506
          Nyanza  |   1.117589   .2455275     0.51   0.613     .7262797    1.719732
           Coast  |   2.374151   .5195962     3.95   0.000     1.545411    3.647309
         Western  |   1.726163   .4064367     2.32   0.021     1.087611    2.739619
         Central  |   1.699008   .4388503     2.05   0.040     1.023591    2.820099
         Eastern  |   2.304019   .5588021     3.44   0.001     1.431688    3.707865
                  |
            _cons |   .4525981   .1398827    -2.56   0.010     .2468252    .8299193
-----------------------------------------------------------------------------------
Note: _cons estimates baseline odds.

. contrast wealth##rural

Contrasts of marginal linear predictions

                                                Design df         =      1,297

Margins      : asbalanced

------------------------------------------------
             |         df           F        P>F
-------------+----------------------------------
      wealth |          4        1.35     0.2484
             |
       rural |          1        7.33     0.0069
             |
wealth#rural |          4        1.48     0.2050
      Design |       1297
------------------------------------------------
Note: F statistics are adjusted for the survey
      design.

. margins wealth##rural

Predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

--------------------------------------------------------------------------------
               |            Delta-method
               |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
        wealth |
      Poorest  |   .6485968   .0257763    25.16   0.000     .5980291    .6991645
       Poorer  |    .678423    .022721    29.86   0.000      .633849    .7229969
       Middle  |   .7097348   .0253916    27.95   0.000     .6599217     .759548
       Richer  |   .7307174   .0264243    27.65   0.000     .6788784    .7825564
      Richest  |   .7879422   .0428933    18.37   0.000     .7037943      .87209
               |
         rural |
        Rural  |   .7239672   .0153012    47.31   0.000     .6939493     .753985
        Urban  |   .6618316   .0196411    33.70   0.000     .6232999    .7003634
               |
  wealth#rural |
Poorest#Rural  |   .6420494   .0255653    25.11   0.000     .5918954    .6922033
Poorest#Urban  |   .6615397   .0500694    13.21   0.000     .5633138    .7597657
 Poorer#Rural  |   .6993699   .0233267    29.98   0.000     .6536077    .7451321
 Poorer#Urban  |   .6368897   .0432084    14.74   0.000     .5521237    .7216557
 Middle#Rural  |   .7153472   .0267473    26.74   0.000     .6628745      .76782
 Middle#Urban  |   .6985256   .0538808    12.96   0.000     .5928225    .8042286
 Richer#Rural  |   .7681032   .0348559    22.04   0.000      .699723    .8364833
 Richer#Urban  |   .6559723   .0355979    18.43   0.000     .5861365     .725808
Richest#Rural  |   .8511288   .0608182    13.99   0.000      .731816    .9704416
Richest#Urban  |   .6605079   .0363978    18.15   0.000     .5891029     .731913
--------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: wealth rural

. margins r.rural@wealth

Contrasts of predictive margins

Number of strata   =        92                  Number of obs     =      3,936
Number of PSUs     =     1,389                  Population size   = 3,651.8531
Model VCE    : Linearized                       Design df         =      1,297

Expression   : Pr(fullvac), predict()

-------------------------------------------------------------
                          |         df           F        P>F
--------------------------+----------------------------------
             rural@wealth |
(Urban vs Rural) Poorest  |          1        0.14     0.7089
 (Urban vs Rural) Poorer  |          1        1.79     0.1807
 (Urban vs Rural) Middle  |          1        0.08     0.7797
 (Urban vs Rural) Richer  |          1        5.16     0.0233
(Urban vs Rural) Richest  |          1        7.44     0.0065
                   Joint  |          5        2.78     0.0168
                   Design |       1297
-------------------------------------------------------------
Note: F statistics are adjusted for the survey design.

---------------------------------------------------------------------------
                          |            Delta-method
                          |   Contrast   Std. Err.     [95% Conf. Interval]
--------------------------+------------------------------------------------
             rural@wealth |
(Urban vs Rural) Poorest  |   .0194903   .0521878     -.0828914    .1218721
 (Urban vs Rural) Poorer  |  -.0624802   .0466463     -.1539906    .0290302
 (Urban vs Rural) Middle  |  -.0168217   .0601207     -.1347662    .1011228
 (Urban vs Rural) Richer  |  -.1121309   .0493723     -.2089891   -.0152726
(Urban vs Rural) Richest  |  -.1906209   .0699058     -.3277618   -.0534799
---------------------------------------------------------------------------

. marginsplot, yline(0)

  Variables that uniquely identify margins: wealth

. // -----------------------------------------------------------------------------
. 
. log close
      name:  <unnamed>
       log:  C:\Users\kajam\OneDrive\Documents\GitHub\vaccine_equity_kenya\Stata\analysis.log
  log type:  text
 closed on:  15 Feb 2021, 15:01:30
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
